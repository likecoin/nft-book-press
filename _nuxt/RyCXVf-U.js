import{a_ as v,b3 as w,a$ as R,bi as A,bl as C,b5 as _,b7 as B,b0 as I,b1 as u,aX as t,bf as U,aT as d,bd as i,br as D,aW as s,bM as T,aY as y,aU as b,bq as P,be as $}from"./Bb_DOv85.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new n.Error().stack;a&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[a]="f8936c33-93da-40cc-8887-cc0999cbde2a",n._sentryDebugIdIdentifier="sentry-dbid-f8936c33-93da-40cc-8887-cc0999cbde2a")}catch{}})();const N=v({__name:"return",setup(n){const{LIKE_CO_API:a}=w().public,m=R(),k=A(),{token:g}=C(k),r=_(""),c=_(!1),p=_(!1);return B(c,o=>{o&&(r.value="")}),I(async()=>{try{c.value=!0;const o=await $fetch(`${a}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${g.value}`}});p.value=o.isReady||!1,setTimeout(()=>{m.replace({name:"nft-book-store-user"})},3e3)}catch(o){console.error(o),r.value=o.toString()}finally{c.value=!1}}),(o,e)=>{const l=T,f=D,h=P,x=$,S=U;return d(),u(S,{"model-value":!0},{default:t(()=>[i(c)?(d(),u(f,{key:0},{header:t(()=>e[0]||(e[0]=[b("h2",{class:"text-sm font-bold font-mono"}," Refreshing Stripe Connect Payout Account Status ",-1)])),default:t(()=>[s(l,{animation:"carousel"},{indicator:t(()=>e[1]||(e[1]=[y(" Refreshing... ")])),_:1})]),_:1})):i(p)&&!i(r)?(d(),u(f,{key:1},{header:t(()=>e[2]||(e[2]=[b("h2",{class:"text-sm font-bold font-mono"}," Stripe Connect Account Status Refreshed ",-1)])),default:t(()=>[s(l,{value:100},{indicator:t(()=>e[3]||(e[3]=[y(" Refreshed! Redirect back in 3 seconds... ")])),_:1})]),_:1})):(d(),u(f,{key:2,ui:{body:{base:"space-y-4"},footer:{base:"text-center"}}},{header:t(()=>e[4]||(e[4]=[b("h2",{class:"text-sm font-bold font-mono"}," An error occurred when refreshing the Stripe Connect Account Status ",-1)])),footer:t(()=>[s(x,{label:"Go Back",to:{name:"nft-book-store-user"}})]),default:t(()=>[s(l,{value:100,color:"red"}),s(h,{icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:i(r)||"Unknown error"},null,8,["title"])]),_:1}))]),_:1})}}});export{N as default};
