import{n as v,O as w,I as R,P as A,R as B,r as _,h as C,x as I,o as d,A as u,w as o,H as U,B as i,a as m,b as s,d as y,a1 as D,M as P,X as T,G as M}from"./WyIghNlr.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[r]="93a745f2-d9bc-45d7-937f-d279d4cb3a2d",n._sentryDebugIdIdentifier="sentry-dbid-93a745f2-d9bc-45d7-937f-d279d4cb3a2d")}catch{}})();const O=v({__name:"return",setup(n){const{LIKE_CO_API:r}=w().public,p=R(),k=A(),{token:h}=B(k),a=_(""),c=_(!1),b=_(!1);return C(c,t=>{t&&(a.value="")}),I(async()=>{try{c.value=!0;const t=await $fetch(`${r}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${h.value}`}});b.value=t.isReady||!1,setTimeout(()=>{p.replace({name:"nft-book-store-user"})},3e3)}catch(t){console.error(t),a.value=t.toString()}finally{c.value=!1}}),(t,e)=>{const l=D,f=P,x=T,g=M,S=U;return d(),u(S,{"model-value":!0},{default:o(()=>[i(c)?(d(),u(f,{key:0},{header:o(()=>e[0]||(e[0]=[m("h2",{class:"text-sm font-bold font-mono"}," Refreshing Stripe Connect Payout Account Status ",-1)])),default:o(()=>[s(l,{animation:"carousel"},{indicator:o(()=>e[1]||(e[1]=[y(" Refreshing... ")])),_:1})]),_:1})):i(b)&&!i(a)?(d(),u(f,{key:1},{header:o(()=>e[2]||(e[2]=[m("h2",{class:"text-sm font-bold font-mono"}," Stripe Connect Account Status Refreshed ",-1)])),default:o(()=>[s(l,{value:100},{indicator:o(()=>e[3]||(e[3]=[y(" Refreshed! Redirect back in 3 seconds... ")])),_:1})]),_:1})):(d(),u(f,{key:2,ui:{body:{base:"space-y-4"},footer:{base:"text-center"}}},{header:o(()=>e[4]||(e[4]=[m("h2",{class:"text-sm font-bold font-mono"}," An error occurred when refreshing the Stripe Connect Account Status ",-1)])),footer:o(()=>[s(g,{label:"Go Back",to:{name:"nft-book-store-user"}})]),default:o(()=>[s(l,{value:100,color:"red"}),s(x,{icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:i(a)||"Unknown error"},null,8,["title"])]),_:1}))]),_:1})}}});export{O as default};
//# sourceMappingURL=BfkjiE5V.js.map
