import{u as n}from"./fetch.50084ecf.js";import{D as h,s as m,r as u,e as p}from"./entry.712e2c55.js";import{u as d}from"./wallet.47d7c9b9.js";import{L as l}from"./index.4e4f5e4e.js";const A=h("book-api",()=>{const i=d(),{wallet:c}=m(i),t=u(""),a=u(""),v=p(()=>c.value===a.value&&!!t.value);async function f(r,s){const{error:o,data:e}=await n(`${l}/wallet/authorize`,{method:"POST",body:s},"$YvajICQNi2");if(o.value)throw o.value;if((!(e!=null&&e.value)).token)throw new Error("INVALID_SIGNATURE");t.value=e.value.token,a.value=r}async function w(r,s){const{error:o,data:e}=await n(`${l}/likernft/book/store/${r}/new`,{method:"POST",body:s,headers:{authorization:`Bearer ${t.value}`}},"$4TWopUBv1o");if(o.value)throw o.value;return e}return{token:t,wallet:a,isAuthenticated:v,authenticate:f,newBookListing:w}});export{A as u};
