import{bw as U,b6 as Z,b8 as k,bs as O,b9 as D,ew as R,ex as P,ey as T,a_ as S,a$ as G,b7 as z,b3 as F,bV as I,b4 as e,aT as u,aX as g,aU as m,aW as a,bT as N,ct as j,aY as E,aV as y,bq as L,ba as M,aS as h,ez as H,bi as C,eA as q,bn as A,bu as W,bo as K,eB as Y,bb as X,bY as J,eC as Q,bd as e0,eD as t0,bg as o0}from"./Di6Vh2zx.js";import{_ as n0}from"./BFE6gQqE.js";import{_ as a0}from"./BsnYQOFW.js";(function(){try{var s=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="bd25fac9-e3b8-4ae0-984d-0bd52bb58797",s._sentryDebugIdIdentifier="sentry-dbid-bd25fac9-e3b8-4ae0-984d-0bd52bb58797")}catch{}})();const s0=""+new URL("3ook-no-padding.CrZZw9tc.png",import.meta.url).href;function V(){const s=U(),t=Z(),{wallet:o,signer:n,isConnected:r}=k(t),{connect:d,disconnect:l,signMessageMemo:i}=t,{authenticate:_,clearSession:x,fetchBookListing:b}=s,{intercomToken:f}=k(s),v=O(),p=D(!1);return{isAuthenticating:p,onAuthenticate:async(w="magic")=>{try{if(p.value=!0,R(),(!o.value||!n.value)&&await d(w),!o.value||!n.value)return;const c=await i("authorize",P);if(!c)return;await _(o.value,c),window.Intercom&&f.value&&window.Intercom("update",{intercom_user_jwt:f.value,session_duration:2592e6,evm_wallet:o.value});try{await b()}catch($){console.error($)}}catch(c){x(),r.value&&await l(),console.error(c),v.add({icon:"i-heroicons-exclamation-circle",title:c.toString(),timeout:0,color:"red",ui:{title:"text-red-400 dark:text-red-400"}})}finally{p.value=!1,T()}}}}const l0={class:"flex flex-col justify-center items-center h-full space-y-12 max-w-[480px] mx-auto"},i0={class:"flex justify-center w-[120px]"},c0=S({__name:"AuthRequiredView",setup(s){const{t}=G(),o=U(),{isRestoringSession:n}=k(o),{isAuthenticating:r}=V(),{BOOK3_URL:d}=z().public;return(l,i)=>{const _=j,x=N("i18n-t"),b=L,f=n0;return e(o).isAuthenticated?I(l.$slots,"default",{key:1}):(u(),F(f,{key:0,ui:{base:"flex flex-col justify-center items-center bg-[#131313]"}},{default:g(()=>[m("div",l0,[i[1]||(i[1]=m("img",{src:s0,alt:"3ook.com",class:"w-full object-contain"},null,-1)),a(x,{class:"text-center text-lg text-gray-300",keypath:"my_books_login_to_view",tag:"h3"},{link:g(()=>[a(_,{class:"text-gray-400",to:e(d)},{default:g(()=>[E(y(e(t)("my_books_3ook")),1)]),_:1},8,["to"])]),_:1}),m("div",i0,[a(b,{ui:{base:"!bg-[#50E3C2] !text-black hover:!bg-[#40caa8]"},label:e(n)?e(t)("auth_state.restore"):e(t)("auth_state.login"),size:"lg",block:"",loading:e(r),disabled:e(n),onClick:i[0]||(i[0]=v=>e(o).openLoginPanel())},null,8,["label","loading","disabled"])])])]),_:1}))}}}),r0=""+new URL("brave.BjdS2RHV.svg",import.meta.url).href,d0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='50'%20fill='%23fff'/%3e%3cpath%20fill='%239C6CFF'%20d='M68.553%2018.041h-26.72a3.8%203.8%200%200%200-3.285%201.896l-13.36%2023.138a3.78%203.78%200%200%200%200%203.793l13.36%2023.138%206.57-3.792L32.86%2044.972l11.166-19.346H66.37l12.268%2021.242%206.57-3.793-13.37-23.138a3.79%203.79%200%200%200-3.285-1.896Z'/%3e%3cpath%20fill='%2305D2DD'%20d='m61.37%2030.616-6.57%203.792L67.07%2055.65%2055.902%2074.996H33.559L21.29%2053.754l-6.57%203.792%2013.36%2023.138a3.792%203.792%200%200%200%203.285%201.896h26.72a3.8%203.8%200%200%200%203.284-1.896l13.36-23.138a3.78%203.78%200%200%200%200-3.792L61.37%2030.616Z'/%3e%3c/svg%3e",_0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%20100%20100'%3e%3cpath%20fill='url(%23paint0_linear_5423_10631)'%20d='M50%20.279c27.614%200%2050%2022.385%2050%2050%200%2027.614-22.386%2050-50%2050s-50-22.386-50-50c0-27.615%2022.386-50%2050-50Z'/%3e%3cpath%20fill='url(%23paint1_radial_5423_10631)'%20d='M50%20.279c27.614%200%2050%2022.385%2050%2050%200%2027.614-22.386%2050-50%2050s-50-22.386-50-50c0-27.615%2022.386-50%2050-50Z'/%3e%3cpath%20fill='url(%23paint2_radial_5423_10631)'%20d='M50%20.279c27.614%200%2050%2022.385%2050%2050%200%2027.614-22.386%2050-50%2050s-50-22.386-50-50c0-27.615%2022.386-50%2050-50Z'/%3e%3cpath%20fill='url(%23paint3_radial_5423_10631)'%20d='M50%20.279c27.614%200%2050%2022.385%2050%2050%200%2027.614-22.386%2050-50%2050s-50-22.386-50-50c0-27.615%2022.386-50%2050-50Z'/%3e%3cpath%20fill='%23fff'%20d='M39.328%2077.66V54.464L61.866%2077.66h12.539v-.604L48.48%2050.638l23.93-25.063v-.296H59.79L39.327%2047.426V25.28H29.167v52.38h10.16Z'/%3e%3cdefs%3e%3cradialGradient%20id='paint1_radial_5423_10631'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='rotate(-45.156%20118.416%2042.5)%20scale(160.368%20162.768)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23232DE3'/%3e%3cstop%20offset='1'%20stop-color='%23232DE3'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint2_radial_5423_10631'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='matrix(-75.04053%20-66.50709%20101.40455%20-114.41565%2094.614%2099.708)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%238B4DFF'/%3e%3cstop%20offset='1'%20stop-color='%238B4DFF'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint3_radial_5423_10631'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='matrix(0%2078.8417%20-191.291%200%2049.167%201.02)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%2324D5FF'/%3e%3cstop%20offset='1'%20stop-color='%231BB8FF'%20stop-opacity='0'/%3e%3c/radialGradient%3e%3clinearGradient%20id='paint0_linear_5423_10631'%20x1='50'%20x2='50'%20y1='.279'%20y2='100.279'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%231FD1FF'/%3e%3cstop%20offset='1'%20stop-color='%231BB8FF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",p0=""+new URL("metamask.D4B5KUWL.svg",import.meta.url).href,u0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%20100%20100'%3e%3cg%20clip-path='url(%23clip0_5425_10672)'%3e%3cpath%20fill='url(%23paint0_linear_5425_10672)'%20d='M100%2050c0-27.614-22.386-50-50-50S0%2022.386%200%2050s22.386%2050%2050%2050%2050-22.386%2050-50Z'/%3e%3cpath%20fill='url(%23paint1_linear_5425_10672)'%20d='M80.931%2054.472c2.453-5.501-9.681-20.875-21.275-27.28-7.308-4.96-14.922-4.28-16.465-2.101-3.385%204.781%2011.207%208.833%2020.967%2013.56-2.099.913-4.075%202.555-5.238%204.652-3.639-3.984-11.625-7.417-20.993-4.653-6.313%201.864-11.563%206.255-13.59%2012.89a3.982%203.982%200%200%200-5.286%205.17%203.981%203.981%200%200%200%203.674%202.464c.406%200%201.678-.274%201.678-.274l20.33.147C36.603%2071.99%2030.178%2073.88%2030.178%2076.122c0%202.242%206.147%201.635%208.456.799%2011.05-4%2022.92-16.47%2024.955-20.058%208.553%201.07%2015.74%201.197%2017.342-2.39Z'/%3e%3cpath%20fill='url(%23paint2_linear_5425_10672)'%20fill-rule='evenodd'%20d='M64.146%2038.654c.453-.178.38-.849.256-1.375-.286-1.21-5.211-6.09-9.836-8.277-6.303-2.978-10.944-2.825-11.63-1.453%201.283%202.64%207.235%205.12%2013.453%207.71%202.652%201.104%205.352%202.23%207.758%203.393l-.001.002Z'%20clip-rule='evenodd'/%3e%3cpath%20fill='url(%23paint3_linear_5425_10672)'%20fill-rule='evenodd'%20d='M56.159%2065.224a37.089%2037.089%200%200%200-4.352-1.344c1.746-3.134%202.113-7.774.464-10.706-2.312-4.116-5.218-6.307-11.965-6.307-3.713%200-13.705%201.254-13.883%209.625-.019.877%200%201.682.063%202.422l18.25.133c-2.461%203.916-4.766%206.82-6.782%209.028%202.422.624%204.419%201.146%206.255%201.625%201.74.456%203.334.874%205.002%201.3a76.127%2076.127%200%200%200%206.948-5.776Z'%20clip-rule='evenodd'/%3e%3cpath%20fill='url(%23paint4_linear_5425_10672)'%20d='M24.085%2058.056c.745%206.36%204.347%208.85%2011.706%209.588%207.36.737%2011.58.242%2017.2.756%204.694.428%208.885%202.828%2010.44%201.998%201.4-.747.617-3.444-1.255-5.172-2.427-2.243-5.786-3.803-11.697-4.356%201.178-3.236.848-7.773-.981-10.242-2.646-3.569-7.529-5.183-13.707-4.478-6.456.737-12.64%203.926-11.706%2011.906Z'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_5425_10672'%20x1='29.506'%20x2='99.964'%20y1='48.234'%20y2='65.516'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%238697FF'/%3e%3cstop%20offset='1'%20stop-color='%23ABB7FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_5425_10672'%20x1='37.192'%20x2='80.423'%20y1='49.6'%20y2='61.819'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='1'%20stop-color='%23fff'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_5425_10672'%20x1='73.114'%20x2='41.832'%20y1='48.777'%20y2='17.524'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%238697FF'/%3e%3cstop%20offset='1'%20stop-color='%238697FF'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_5425_10672'%20x1='57.026'%20x2='27.026'%20y1='66.316'%20y2='49.127'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%238697FF'/%3e%3cstop%20offset='1'%20stop-color='%238697FF'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint4_linear_5425_10672'%20x1='39.763'%20x2='60.091'%20y1='49.278'%20y2='75.02'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='.984'%20stop-color='%23D1D8FF'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_5425_10672'%3e%3cpath%20fill='%23fff'%20d='M0%200h100v100H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",f0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='50'%20fill='%234084ED'/%3e%3cpath%20fill='%23fff'%20d='M27.859%2035.718c12.226-12.208%2032.054-12.208%2044.28%200l1.47%201.461a1.546%201.546%200%200%201%200%202.208l-5.028%205.031a.797.797%200%200%201-1.104%200l-2.03-2.03c-8.532-8.523-22.363-8.523-30.895%200l-2.167%202.168a.797.797%200%200%201-1.101%200l-5.05-5.01a1.546%201.546%200%200%201%200-2.209l1.625-1.619Zm54.687%2010.396%204.49%204.478a1.547%201.547%200%200%201%200%202.208L66.82%2072.978a1.553%201.553%200%200%201-2.205%200L50.279%2058.659a.388.388%200%200%200-.433-.088.389.389%200%200%200-.128.088L35.384%2072.978a1.554%201.554%200%200%201-2.205%200L12.963%2052.8a1.548%201.548%200%200%201%200-2.208l4.488-4.478a1.554%201.554%200%200%201%202.206%200l14.334%2014.32a.391.391%200%200%200%20.561%200l14.335-14.32a1.555%201.555%200%200%201%202.206%200l14.334%2014.32a.394.394%200%200%200%20.561%200l14.335-14.32a1.578%201.578%200%200%201%202.223%200Z'/%3e%3c/svg%3e",m0=["src","alt"],g0={key:1},x0=S({__name:"LoginConnectorIcon",props:{connectorId:{}},setup(s){const t=s,o=M(()=>{switch(t.connectorId){case"com.brave.wallet":return r0;case"io.cosmostation":return d0;case"app.keplr":return _0;case"io.metamask":return p0;case"io.rabby":return u0;case"walletConnect":return f0;default:return""}});return(n,r)=>e(o)?(u(),h("img",{key:0,src:e(o),alt:`${n.connectorId} Icon`},null,8,m0)):(u(),h("span",g0))}}),b0={class:"p-6 pt-8 rounded-[20px] bg-white shadow-[0_4px_4px_0_rgba(0,0,0,0.02)]"},h0={class:"flex flex-col items-center"},v0=["textContent"],w0=["textContent"],y0={class:"flex flex-col gap-2"},k0=["textContent"],C0=S({__name:"LoginPanel",emits:["connect"],setup(s,{emit:t}){const o=t,{t:n}=G(),{connectors:r,error:d}=H(),l=M(()=>r.filter(_=>!["magic","injected"].includes(_.id)));function i(_=""){o("connect",_)}return(_,x)=>{var w;const b=q,f=L,v=W,p=x0,B=a0;return u(),h("div",b0,[m("div",h0,[a(b),m("h2",{class:"mt-[48px] text-theme-500 text-2xl font-bold",textContent:y(e(n)("login_panel_title"))},null,8,v0)]),a(f,{class:"mt-6",icon:"i-material-symbols-mail-outline-rounded",size:"lg",block:"",color:"black",onClick:x[0]||(x[0]=c=>i("magic"))},{default:g(()=>[m("span",{class:"grow mr-[28px]",textContent:y(e(n)("login_panel_continue_with_email"))},null,8,w0)]),_:1}),e(l).length?(u(),h(A,{key:0},[a(v,{class:"my-4",label:e(n)("login_panel_or_separator"),ui:{label:"text-neutral-400"}},null,8,["label"]),m("ul",y0,[(u(!0),h(A,null,K(e(l),c=>(u(),h("li",{key:c.id,type:"button"},[a(f,{variant:"soft",color:"black",size:"lg",block:"",ui:{base:"border border-neutral-300"},onClick:$=>i(c.id)},{leading:g(()=>[a(p,{class:"w-5 h-5","connector-id":c.id,alt:c.name},null,8,["connector-id","alt"])]),default:g(()=>[m("span",{class:"grow mr-[28px]",textContent:y(c.name)},null,8,k0)]),_:2},1032,["onClick"])]))),128))])],64)):C("",!0),e(d)?(u(),F(B,{key:1,class:"mt-4",description:(w=e(d))==null?void 0:w.message,variant:"subtle"},null,8,["description"])):C("",!0)])}}}),U0=()=>Y("color-mode").value,S0={class:"fixed print:relative print:inset-auto inset-0 flex"},F0={class:"flex-1 overflow-y-scroll"},A0={__name:"default",setup(s){const t=U(),{onAuthenticate:o}=V(),n=U0();n.value!=="light"&&(n.preference="light");const r=D(!1);return X(()=>t.isAuthenticated,d=>{d&&t.isShowLoginPanel&&t.closeLoginPanel()}),(d,l)=>{const i=Q,_=L,x=t0,b=c0,f=C0,v=o0;return u(),h("div",S0,[d.isNavigationCollapsed?C("",!0):(u(),F(i,{key:0,class:J(["max-lg:hidden","w-full","max-w-[180px]","border-r","border-gray-200 dark:border-gray-800"])})),a(_,{icon:"i-heroicons-bars-3-16-solid",size:"xl",color:"gray",variant:"link",class:"fixed top-[12px] left-1 z-50 lg:hidden",onClick:l[0]||(l[0]=p=>r.value=!0)}),a(x,{modelValue:e(r),"onUpdate:modelValue":l[1]||(l[1]=p=>e0(r)?r.value=p:null),side:"left",ui:{width:"w-full max-w-[180px]"}},{default:g(()=>[a(i,{class:"h-full"})]),_:1},8,["modelValue"]),a(b,null,{default:g(()=>[m("main",F0,[I(d.$slots,"default")])]),_:3}),a(v,{modelValue:e(t).isShowLoginPanel,"onUpdate:modelValue":l[2]||(l[2]=p=>e(t).isShowLoginPanel=p),close:{onClick:()=>e(t).closeLoginPanel()},ui:{width:"!max-w-[348px]"}},{default:g(()=>[a(f,{onConnect:e(o)},null,8,["onConnect"])]),_:1},8,["modelValue","close"])])}}};export{A0 as default};
