import{a as v,s as g,r as _,w as y,o,f as r,u as n,t as S,h as d,j as s,c as w,C as b}from"./entry.712e2c55.js";import{u as B}from"./wallet.47d7c9b9.js";import{u as x}from"./book-store-api.a1910588.js";import"./fetch.50084ecf.js";import"./index.4e4f5e4e.js";const C=s("h1",null,"NFT Book Store management page",-1),A={key:0,style:{color:"red"}},N={key:1,style:{color:"green"}},V=s("hr",null,null,-1),L={key:2},M=s("h2",null,"Verify your wallet address",-1),T=["disabled"],W=v({__name:"nft-book-store",setup(j){const l=B(),c=x(),{wallet:i,signer:u}=g(l),{connect:f,signMessageMemo:m}=l,{authenticate:h}=c,a=_(""),t=_(!1);y(t,e=>{e&&(a.value="")});async function p(){try{if(t.value=!0,(!i.value||!u.value)&&await f(),!i.value||!u.value)return;const e=await m("authorize",["read:nftbook","write:nftbook"]);await h(i.value,e)}catch(e){console.error(e),a.value=e.toString()}finally{t.value=!1}}return(e,z)=>{const k=b;return o(),r("div",null,[C,n(a)?(o(),r("div",A,S(n(a)),1)):d("",!0),n(t)?(o(),r("div",N," Loading... ")):d("",!0),V,n(c).isAuthenticated?(o(),w(k,{key:3})):(o(),r("section",L,[M,s("div",null,[s("button",{disabled:n(t),onClick:p}," Sign ",8,T)])]))])}}});export{W as default};
