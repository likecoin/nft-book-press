import{a_ as $,bm as j,by as q,b0 as z,bk as W,bx as X,bn as Y,b8 as p,b9 as B,ba as G,b1 as H,bb as J,b3 as y,aX as s,aT as k,br as h,aW as g,b4 as i,bs as K,bP as O,aY as Q,bt as Z,bf as ee,aU as T,aV as oe,bg as te,b2 as ne}from"./CfseOdbi.js";import{_ as ae}from"./Vz5hS-_V.js";import{_ as se}from"./CMPxrW4j.js";import{_ as le}from"./YhmgSYdO.js";import{u as ie}from"./CLNw9kjo.js";import"./W06PnaAv.js";import"./CS540GWc.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c=new l.Error().stack;c&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[c]="08776e14-929f-431d-85fb-4973554a8bb1",l._sentryDebugIdIdentifier="sentry-dbid-08776e14-929f-431d-85fb-4973554a8bb1")}catch{}})();const re={class:"font-bold font-mono"},pe=$({__name:"index",setup(l){const c=j(),C=q(),v=z(),N=ie(),U=W(),L=X(),{listNFTBookCollections:P,listModeratedNFTBookCollections:V}=L,{getClassMetadataById:R,lazyFetchClassMetadataById:w}=N,{token:D}=Y(U),d=p(""),S=p(!1),I=p([]),x=p([]),u=[{label:"Current Collection Listing",key:"current"},{label:"Viewable Collection Listing",key:"viewable"}],m=B({get(){const e=u.findIndex(o=>o.key===c.query.tab);return e===-1?0:e},set(e){C.replace({query:{tab:u[e].key}})}});G(S,e=>{e&&(d.value="")});const M=[{key:"name",label:"Collection Name",sortable:!0},{key:"priceInUSD",label:"Price in USD",sortable:!0},{key:"pendingAction",label:"Pending Action",sortable:!0},{key:"sold",label:"Sold",sortable:!0}];H(async()=>{const e=[P()];D.value&&e.push(V());const[o,t]=await Promise.all(e);I.value=o==null?void 0:o.list,I.value.forEach(n=>{n.classIds.forEach(a=>w(a))}),x.value=(t==null?void 0:t.list)||[],x.value.forEach(n=>{n.classIds.forEach(a=>w(a))})});const A=B(()=>(u[m.value].key==="viewable"?x:I).value.map(e=>{var o,t,n,a,b;return{collectionId:e.id,name:(o=e.name)==null?void 0:o.en,priceInUSD:((t=e.typePayload)==null?void 0:t.priceInDecimal)/100,classIds:e.classIds,classNames:(n=e.classIds)==null?void 0:n.map(f=>{var _;return(_=R(f))==null?void 0:_.name}),pendingAction:((a=e.typePayload)==null?void 0:a.pendingNFTCount)||0,sold:((b=e.typePayload)==null?void 0:b.sold)||0}}));J({title:"Book Collection Management",ogTitle:"Book Collection Management"});function E(e){ne(v({name:"nft-book-store-collection-status-collectionId",params:{collectionId:e.collectionId}}))}return(e,o)=>{const t=K,n=O,a=te,b=ae,f=Z,_=se,F=le;return k(),y(F,{ui:{constrained:""}},{default:s(()=>[i(d)?(k(),y(t,{key:0,class:"mt-4",icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:`${i(d)}`,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"red",variant:"link",padded:!1},onClose:o[0]||(o[0]=r=>d.value="")},null,8,["title"])):h("",!0),i(S)?(k(),y(n,{key:1,animation:"carousel"},{indicator:s(()=>o[2]||(o[2]=[Q(" Loading... ")])),_:1})):h("",!0),g(f,{ui:{header:{base:"flex justify-between items-center gap-4"}}},{header:s(()=>[o[3]||(o[3]=T("h2",{class:"text-xl font-bold font-mono"}," Liker Land Book Collections ",-1)),g(a,{icon:"i-heroicons-plus-circle",label:"New Collection",to:i(v)({name:"nft-book-store-collection-new"})},null,8,["to"])]),default:s(()=>[g(_,{modelValue:i(m),"onUpdate:modelValue":o[1]||(o[1]=r=>ee(m)?m.value=r:null),class:"w-full",items:u},{item:s(({item:r})=>[(k(),y(f,{key:r.key,ui:{header:{base:"flex justify-between items-center gap-4"},body:{base:"divide-y divide-gray-200 dark:divide-gray-700",padding:""}}},{header:s(()=>[T("h2",re,oe(r.label),1)]),default:s(()=>[g(b,{columns:M,rows:i(A),onSelect:E},null,8,["rows"])]),_:2},1024))]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});export{pe as default};
