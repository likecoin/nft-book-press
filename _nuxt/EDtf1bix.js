import{a_ as U,b6 as $,bk as A,bn as L,bm as R,b8 as d,b9 as v,ba as O,b1 as j,b3 as I,aX as a,cM as D,cN as T,aT as h,aU as c,br as E,aW as n,aV as S,b4 as s,bO as W,aY as q,bt as z,bg as J,bh as K,bf as X}from"./C7XQIrPM.js";import{_ as Y}from"./CZhspGV5.js";import{_ as F}from"./DAsO9jpg.js";import"./D_LCcsEc.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y=new l.Error().stack;y&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[y]="cc576bf4-955d-4565-8279-24b136e4a67e",l._sentryDebugIdIdentifier="sentry-dbid-cc576bf4-955d-4565-8279-24b136e4a67e")}catch{}})();const G={class:"flex justify-between gap-4"},H={class:"text-lg font-bold font-mono flex-wrap"},Q=["textContent"],ne=U({__name:"[payoutId]",setup(l){const{LIKE_CO_API:y}=$().public,x=A(),{token:V}=L(x),M=R(),m=d({}),w=d([]),B=d(""),u=d(!1),C=d(M.params.payoutId),f=d(""),p=v({get:()=>!!f.value,set:t=>{t||(f.value="")}});O(u,t=>{t&&(B.value="")});const N=v(()=>{if(!m.value)return[];const{id:t,createdTs:e,amount:b,status:i,currency:o,arrivalTs:r}=m.value;return[{id:t,createdTs:new Date(e*1e3).toLocaleString(),amount:T(b,o),status:i,currency:D(o),arrivalTs:r?new Date(r*1e3).toLocaleString():""}]}),P=v(()=>w.value.map(t=>{const{commissionId:e,createdTs:b,amount:i,currency:o,description:r,status:g,metadata:k}=t;return{commissionId:e,createdTs:new Date(b*1e3).toLocaleString(),amount:T(i,o),currency:D(o),description:r,status:g,metadata:JSON.stringify(k,null,2)}}));return j(async()=>{try{u.value=!0;const t=await $fetch(`${y}/likernft/book/user/payouts/${C.value}`,{headers:{authorization:`Bearer ${V.value}`}});m.value=t,m.value.items&&(w.value=m.value.items)}finally{u.value=!1}}),(t,e)=>{const b=W,i=Y,o=z,r=J,g=K,k=F;return h(),I(k,{class:"space-y-10 pb-10"},{default:a(()=>[c("div",G,[c("h1",H," Payout Details - "+S(s(C)),1)]),s(u)?(h(),I(b,{key:0,animation:"carousel"},{indicator:a(()=>e[2]||(e[2]=[q(" Loading... ")])),_:1})):E("",!0),n(o,{ui:{body:{padding:""}}},{header:a(()=>e[3]||(e[3]=[c("h3",{class:"font-bold font-mono"}," Payout Information ",-1)])),default:a(()=>[n(i,{columns:[{key:"id",label:"ID"},{key:"createdTs",label:"Created"},{key:"currency",label:"Currency"},{key:"amount",label:"Payout Amount"},{key:"status",label:"Status"},{key:"arrivalTs",label:"Arrived"}],rows:s(N),loading:s(u),ui:{th:{base:"text-center"},td:{base:"text-center"}}},null,8,["rows","loading"])]),_:1}),n(o,{ui:{body:{padding:""}}},{header:a(()=>e[4]||(e[4]=[c("h3",{class:"text-sm font-bold font-mono"}," Payout Commission Item Details ",-1)])),default:a(()=>[n(i,{columns:[{key:"commissionId",label:"Commission ID"},{key:"createdTs",label:"Created"},{key:"currency",label:"Currency"},{key:"amount",label:"Commission Amount"},{key:"description",label:"Description"},{key:"status",label:"Status"},{key:"metadata",label:"Metadata"}],rows:s(P),loading:s(u),ui:{th:{base:"text-center"},td:{base:"text-center"}}},{"metadata-data":a(({row:_})=>[n(r,{label:"View",color:"gray",onClick:Z=>f.value=_.metadata},null,8,["onClick"])]),_:1},8,["rows","loading"])]),_:1}),n(g,{modelValue:s(p),"onUpdate:modelValue":e[1]||(e[1]=_=>X(p)?p.value=_:null)},{default:a(()=>[n(o,{ui:{header:{base:"flex items-center justify-between gap-2"},body:{base:"overflow-auto text-sm"}}},{header:a(()=>[e[5]||(e[5]=c("h4",{class:"font-mono font-bold",textContent:"Metadata"},null,-1)),n(r,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",square:"",padded:"",onClick:e[0]||(e[0]=_=>p.value=!1)})]),default:a(()=>[c("pre",{textContent:S(s(f))},null,8,Q)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ne as default};
