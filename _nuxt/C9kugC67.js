import{dc as f,b7 as d,bz as b,b8 as p,b9 as y,ba as S}from"./BVgQfaNN.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new n.Error().stack;r&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[r]="f6b99ccb-df2c-470a-81ea-292bb37da15a",n._sentryDebugIdIdentifier="sentry-dbid-f6b99ccb-df2c-470a-81ea-292bb37da15a")}catch{}})();function u(){return{isReady:!1,hasAccount:!1,email:"",stripeConnectAccountId:""}}const v=f("stripe-connect",()=>{const{LIKE_CO_API:n}=d().public,r=b(),{token:s}=p(r),t=y({}),c=S(()=>e=>t.value[e]||u());async function o(e){t.value[e]||(t.value[e]=u());const a=await $fetch(`${n}/likernft/book/user/connect/status`,{headers:{authorization:`Bearer ${s.value}`},query:{wallet:e}});return a?(t.value[e]=a,a):t.value[e]}async function i(e){await o(e);const a=t.value[e];return a?.hasAccount&&!a?.isReady&&(await $fetch(`${n}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${s.value}`}})).isReady&&(t.value[e]={...a,isReady:!0}),t.value[e]}return{stripeConnectStatusWalletMap:t,getStripeConnectStatusByWallet:c,fetchStripeConnectStatusByWallet:o,refreshStripeConnectStatus:i}});export{v as u};
