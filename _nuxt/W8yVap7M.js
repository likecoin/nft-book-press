import{a_ as U,b3 as $,bi as A,bl as N,bk as R,b5 as i,b6 as v,b7 as O,b0 as j,b1 as I,aX as a,cK as D,cL as T,aT as h,aU as c,bp as E,aW as n,aV as S,bd as s,bM as K,aY as W,br as q,be as z,bf as J,bc as X}from"./Bb_DOv85.js";import{_ as Y}from"./JWsPwAu1.js";import{_ as F}from"./CKD62WSd.js";import"./DJC9Itn9.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},b=new l.Error().stack;b&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[b]="f7c59efd-dd32-48ba-ac37-dc607d12f414",l._sentryDebugIdIdentifier="sentry-dbid-f7c59efd-dd32-48ba-ac37-dc607d12f414")}catch{}})();const G={class:"flex justify-between gap-4"},H={class:"text-lg font-bold font-mono flex-wrap"},Q=["textContent"],ne=U({__name:"[payoutId]",setup(l){const{LIKE_CO_API:b}=$().public,x=A(),{token:V}=N(x),M=R(),m=i({}),w=i([]),B=i(""),u=i(!1),C=i(M.params.payoutId),y=i(""),p=v({get:()=>!!y.value,set:t=>{t||(y.value="")}});O(u,t=>{t&&(B.value="")});const L=v(()=>{if(!m.value)return[];const{id:t,createdTs:e,amount:f,status:d,currency:o,arrivalTs:r}=m.value;return[{id:t,createdTs:new Date(e*1e3).toLocaleString(),amount:T(f,o),status:d,currency:D(o),arrivalTs:r?new Date(r*1e3).toLocaleString():""}]}),P=v(()=>w.value.map(t=>{const{commissionId:e,createdTs:f,amount:d,currency:o,description:r,status:g,metadata:k}=t;return{commissionId:e,createdTs:new Date(f*1e3).toLocaleString(),amount:T(d,o),currency:D(o),description:r,status:g,metadata:JSON.stringify(k,null,2)}}));return j(async()=>{try{u.value=!0;const t=await $fetch(`${b}/likernft/book/user/payouts/${C.value}`,{headers:{authorization:`Bearer ${V.value}`}});m.value=t,m.value.items&&(w.value=m.value.items)}finally{u.value=!1}}),(t,e)=>{const f=K,d=Y,o=q,r=z,g=J,k=F;return h(),I(k,{class:"space-y-10 pb-10"},{default:a(()=>[c("div",G,[c("h1",H," Payout Details - "+S(s(C)),1)]),s(u)?(h(),I(f,{key:0,animation:"carousel"},{indicator:a(()=>e[2]||(e[2]=[W(" Loading... ")])),_:1})):E("",!0),n(o,{ui:{body:{padding:""}}},{header:a(()=>e[3]||(e[3]=[c("h3",{class:"font-bold font-mono"}," Payout Information ",-1)])),default:a(()=>[n(d,{columns:[{key:"id",label:"ID"},{key:"createdTs",label:"Created"},{key:"currency",label:"Currency"},{key:"amount",label:"Payout Amount"},{key:"status",label:"Status"},{key:"arrivalTs",label:"Arrived"}],rows:s(L),loading:s(u),ui:{th:{base:"text-center"},td:{base:"text-center"}}},null,8,["rows","loading"])]),_:1}),n(o,{ui:{body:{padding:""}}},{header:a(()=>e[4]||(e[4]=[c("h3",{class:"text-sm font-bold font-mono"}," Payout Commission Item Details ",-1)])),default:a(()=>[n(d,{columns:[{key:"commissionId",label:"Commission ID"},{key:"createdTs",label:"Created"},{key:"currency",label:"Currency"},{key:"amount",label:"Commission Amount"},{key:"description",label:"Description"},{key:"status",label:"Status"},{key:"metadata",label:"Metadata"}],rows:s(P),loading:s(u),ui:{th:{base:"text-center"},td:{base:"text-center"}}},{"metadata-data":a(({row:_})=>[n(r,{label:"View",color:"gray",onClick:Z=>y.value=_.metadata},null,8,["onClick"])]),_:1},8,["rows","loading"])]),_:1}),n(g,{modelValue:s(p),"onUpdate:modelValue":e[1]||(e[1]=_=>X(p)?p.value=_:null)},{default:a(()=>[n(o,{ui:{header:{base:"flex items-center justify-between gap-2"},body:{base:"overflow-auto text-sm"}}},{header:a(()=>[e[5]||(e[5]=c("h4",{class:"font-mono font-bold",textContent:"Metadata"},null,-1)),n(r,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",square:"",padded:"",onClick:e[0]||(e[0]=_=>p.value=!1)})]),default:a(()=>[c("pre",{textContent:S(s(y))},null,8,Q)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ne as default};
