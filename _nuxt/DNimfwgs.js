import{e5 as f,b7 as d,bx as b,b8 as p,b9 as y,ba as l}from"./Ds3ab4RW.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new n.Error().stack;o&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[o]="54b4f28c-a2f4-4a34-a680-a3a04b0ab476",n._sentryDebugIdIdentifier="sentry-dbid-54b4f28c-a2f4-4a34-a680-a3a04b0ab476")}catch{}})();function i(){return{isReady:!1,hasAccount:!1,email:"",stripeConnectAccountId:""}}const v=f("stripe-connect",()=>{const{LIKE_CO_API:n}=d().public,o=b(),{token:s}=p(o),a=y({}),u=l(()=>e=>a.value[e]||i());async function r(e){a.value[e]||(a.value[e]=i());const t=await $fetch(`${n}/likernft/book/user/connect/status`,{headers:{authorization:`Bearer ${s.value}`},query:{wallet:e}});return t?(a.value[e]=t,t):a.value[e]}async function c(e){await r(e);const t=a.value[e];return t!=null&&t.hasAccount&&!(t!=null&&t.isReady)&&(await $fetch(`${n}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${s.value}`}})).isReady&&(a.value[e]={...t,isReady:!0}),a.value[e]}return{stripeConnectStatusWalletMap:a,getStripeConnectStatusByWallet:u,fetchStripeConnectStatusByWallet:r,refreshStripeConnectStatus:c}});export{v as u};
