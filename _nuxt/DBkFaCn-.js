import{n as S,T as w,M as R,v as A,s as B,r as _,h as C,z as I,o as c,B as d,w as o,L as U,F as i,a as m,b as s,d as y,a2 as D,Q as T,K as P}from"./C7bisW_2.js";import{_ as L}from"./CHhQ3aA6.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[r]="d7832c87-b5b1-435d-843f-5714fb2d1074",n._sentryDebugIdIdentifier="sentry-dbid-d7832c87-b5b1-435d-843f-5714fb2d1074")}catch{}})();const V=S({__name:"return",setup(n){const{LIKE_CO_API:r}=w().public,p=R(),k=A(),{token:h}=B(k),a=_(""),u=_(!1),b=_(!1);return C(u,t=>{t&&(a.value="")}),I(async()=>{try{u.value=!0;const t=await $fetch(`${r}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${h.value}`}});b.value=t.isReady||!1,setTimeout(()=>{p.replace({name:"nft-book-store-user"})},3e3)}catch(t){console.error(t),a.value=t.toString()}finally{u.value=!1}}),(t,e)=>{const f=D,l=T,g=L,x=P,v=U;return c(),d(v,{"model-value":!0},{default:o(()=>[i(u)?(c(),d(l,{key:0},{header:o(()=>e[0]||(e[0]=[m("h2",{class:"text-sm font-bold font-mono"}," Refreshing Stripe Connect Payout Account Status ",-1)])),default:o(()=>[s(f,{animation:"carousel"},{indicator:o(()=>e[1]||(e[1]=[y(" Refreshing... ")])),_:1})]),_:1})):i(b)&&!i(a)?(c(),d(l,{key:1},{header:o(()=>e[2]||(e[2]=[m("h2",{class:"text-sm font-bold font-mono"}," Stripe Connect Account Status Refreshed ",-1)])),default:o(()=>[s(f,{value:100},{indicator:o(()=>e[3]||(e[3]=[y(" Refreshed! Redirect back in 3 seconds... ")])),_:1})]),_:1})):(c(),d(l,{key:2,ui:{body:{base:"space-y-4"},footer:{base:"text-center"}}},{header:o(()=>e[4]||(e[4]=[m("h2",{class:"text-sm font-bold font-mono"}," An error occurred when refreshing the Stripe Connect Account Status ",-1)])),footer:o(()=>[s(x,{label:"Go Back",to:{name:"nft-book-store-user"}})]),default:o(()=>[s(f,{value:100,color:"red"}),s(g,{icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:i(a)||"Unknown error"},null,8,["title"])]),_:1}))]),_:1})}}});export{V as default};
//# sourceMappingURL=DBkFaCn-.js.map
