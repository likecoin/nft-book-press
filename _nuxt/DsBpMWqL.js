import{_ as F}from"./WnC6mHIO.js";import{n as $,u as j,M as q,v as z,a1 as G,s as K,r as b,C as S,h as Q,z as H,y as J,o as y,B as k,w as a,F as c,N as h,d as O,b as g,a as B,G as W,t as X,a2 as Y,K as Z,Q as ee}from"./Cgediu4u.js";import{_ as oe}from"./dxEv8AD6.js";import{_ as te}from"./DjsRny5P.js";import{_ as ne}from"./BcZA52h8.js";import{u as se}from"./9pdoRT3m.js";import"./qFdIC1qG.js";(function(){try{var l=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[r]="95c00b0b-fd9b-4b36-b93d-e690cc6acd5d",l._sentryDebugIdIdentifier="sentry-dbid-95c00b0b-fd9b-4b36-b93d-e690cc6acd5d")}catch{}})();const ae={class:"font-bold font-mono"},pe=$({__name:"index",setup(l){const r=j(),I=q(),N=se(),T=z(),U=G(),{listNFTBookCollections:L,listModeratedNFTBookCollections:M}=U,{getClassMetadataById:P,lazyFetchClassMetadataById:v}=N,{token:V}=K(T),d=b(""),x=b(!1),C=b([]),w=b([]),u=[{label:"Current Collection Listing",key:"current"},{label:"Viewable Collection Listing",key:"viewable"}],m=S({get(){const e=u.findIndex(o=>o.key===r.query.tab);return e===-1?0:e},set(e){I.replace({query:{tab:u[e].key}})}});Q(x,e=>{e&&(d.value="")});const D=[{key:"name",label:"Collection Name",sortable:!0},{key:"priceInUSD",label:"Price in USD",sortable:!0},{key:"pendingAction",label:"Pending Action",sortable:!0},{key:"sold",label:"Sold",sortable:!0}];H(async()=>{const e=[L()];V.value&&e.push(M());const[o,t]=await Promise.all(e);C.value=o==null?void 0:o.list,C.value.forEach(n=>{n.classIds.forEach(s=>v(s))}),w.value=(t==null?void 0:t.list)||[],w.value.forEach(n=>{n.classIds.forEach(s=>v(s))})});const A=S(()=>(u[m.value].key==="viewable"?w:C).value.map(e=>{var o,t,n,s,p;return{collectionId:e.id,name:(o=e.name)==null?void 0:o.en,priceInUSD:((t=e.typePayload)==null?void 0:t.priceInDecimal)/100,classIds:e.classIds,classNames:(n=e.classIds)==null?void 0:n.map(_=>{var f;return(f=P(_))==null?void 0:f.name}),pendingAction:((s=e.typePayload)==null?void 0:s.pendingNFTCount)||0,sold:((p=e.typePayload)==null?void 0:p.sold)||0}}));J({title:"Book Collection Management",ogTitle:"Book Collection Management"});function R(e){I.push({name:"nft-book-store-collection-status-collectionId",params:{collectionId:e.collectionId}})}return(e,o)=>{const t=F,n=Y,s=Z,p=oe,_=ee,f=te,E=ne;return y(),k(E,{ui:{constrained:""}},{default:a(()=>[c(d)?(y(),k(t,{key:0,class:"mt-4",icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:`${c(d)}`,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"red",variant:"link",padded:!1},onClose:o[0]||(o[0]=i=>d.value="")},null,8,["title"])):h("",!0),c(x)?(y(),k(n,{key:1,animation:"carousel"},{indicator:a(()=>o[2]||(o[2]=[O(" Loading... ")])),_:1})):h("",!0),g(_,{ui:{header:{base:"flex justify-between items-center gap-4"}}},{header:a(()=>[o[3]||(o[3]=B("h2",{class:"text-xl font-bold font-mono"}," Liker Land Book Collections ",-1)),g(s,{icon:"i-heroicons-plus-circle",label:"New Collection",to:{name:"nft-book-store-collection-new"}})]),default:a(()=>[g(f,{modelValue:c(m),"onUpdate:modelValue":o[1]||(o[1]=i=>W(m)?m.value=i:null),class:"w-full",items:u},{item:a(({item:i})=>[(y(),k(_,{key:i.key,ui:{header:{base:"flex justify-between items-center gap-4"},body:{base:"divide-y divide-gray-200 dark:divide-gray-700",padding:""}}},{header:a(()=>[B("h2",ae,X(i.label),1)]),default:a(()=>[g(p,{columns:D,rows:c(A),onSelect:R},null,8,["rows"])]),_:2},1024))]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});export{pe as default};
//# sourceMappingURL=DsBpMWqL.js.map
