import{b9 as y,b4 as U,bS as Ot,ba as ne,bT as St,bU as We,bV as Ee,bW as De,a_ as ee,bX as me,bY as Ct,bZ as x,b1 as fe,b8 as T,b_ as ce,b$ as Oe,c0 as F,c1 as _,bc as Z,c2 as He,c3 as Ne,c4 as Me,c5 as Be,c6 as It,c7 as _e,c8 as pe,c9 as Se,ca as et,cb as tt,cc as lt,cd as nt,ce as at,cf as ot,bi as xe,cg as W,ch as wt,ci as je,cj as Rt,ck as it,cl as kt,cm as Mt,cn as Pe,co as xt,cp as ie,cq as At,aQ as st,cr as Bt,b3 as K,aT as B,aX as J,aS as Q,br as X,bI as j,bP as Ie,cs as le,aU as q,ct as de,aW as Y,bD as ut,aV as oe,cu as Pt,bj as Ue,cv as rt,cw as $t,aY as be,cx as Le,cy as ke,cz as zt,cA as Vt,cB as Tt,cC as Et,cD as Ge,cE as Lt,cF as we,cG as Ft,cH as Ke,cI as Dt,cJ as Nt,cK as jt,bg as qe,bm as Ut,b0 as qt,bk as Wt,bn as Ht,b2 as Qe,bs as Gt,bO as Kt,bt as Qt,bf as ge,cL as Jt}from"./C7XQIrPM.js";import{_ as Xt}from"./DvV_81yL.js";import{_ as Yt}from"./C-xXY3k_.js";import{d as dt,e as ct}from"./DYq6x77p.js";import{c as L,u as vt,i as Zt,f as Fe,p as _t}from"./CEC5Y-hS.js";import{u as el}from"./D_LCcsEc.js";import{u as ft}from"./C6NCxhyU.js";import{_ as tl}from"./CZhspGV5.js";import{_ as ll}from"./Db3mQhMw.js";import{_ as nl}from"./DAsO9jpg.js";import"./BRjOu1Ku.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v=new e.Error().stack;v&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[v]="ccbcdf52-6a2e-4ce2-b302-8dc251b5bee9",e._sentryDebugIdIdentifier="sentry-dbid-ccbcdf52-6a2e-4ce2-b302-8dc251b5bee9")}catch{}})();const al={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}};function ye(e,v,a){let o=a.initialDeps??[],l;function i(){var t,n,b,d;let u;a.key&&((t=a.debug)!=null&&t.call(a))&&(u=Date.now());const s=e();if(!(s.length!==o.length||s.some((w,I)=>o[I]!==w)))return l;o=s;let M;if(a.key&&((n=a.debug)!=null&&n.call(a))&&(M=Date.now()),l=v(...s),a.key&&((b=a.debug)!=null&&b.call(a))){const w=Math.round((Date.now()-u)*100)/100,I=Math.round((Date.now()-M)*100)/100,E=I/16,P=(O,r)=>{for(O=String(O);O.length<r;)O=" "+O;return O};console.info(`%c⏱ ${P(I,5)} /${P(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*E,120))}deg 100% 31%);`,a==null?void 0:a.key)}return(d=a==null?void 0:a.onChange)==null||d.call(a,l),l}return i.updateDeps=t=>{o=t},i}function Je(e,v){if(e===void 0)throw new Error("Unexpected undefined");return e}const ol=(e,v)=>Math.abs(e-v)<1.01,il=(e,v,a)=>{let o;return function(...l){e.clearTimeout(o),o=e.setTimeout(()=>v.apply(this,l),a)}},Xe=e=>{const{offsetWidth:v,offsetHeight:a}=e;return{width:v,height:a}},sl=e=>e,ul=e=>{const v=Math.max(e.startIndex-e.overscan,0),a=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let l=v;l<=a;l++)o.push(l);return o},rl=(e,v)=>{const a=e.scrollElement;if(!a)return;const o=e.targetWindow;if(!o)return;const l=t=>{const{width:n,height:b}=t;v({width:Math.round(n),height:Math.round(b)})};if(l(Xe(a)),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(t=>{const n=()=>{const b=t[0];if(b!=null&&b.borderBoxSize){const d=b.borderBoxSize[0];if(d){l({width:d.inlineSize,height:d.blockSize});return}}l(Xe(a))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(n):n()});return i.observe(a,{box:"border-box"}),()=>{i.unobserve(a)}},Ye={passive:!0},Ze=typeof window>"u"?!0:"onscrollend"in window,dl=(e,v)=>{const a=e.scrollElement;if(!a)return;const o=e.targetWindow;if(!o)return;let l=0;const i=e.options.useScrollendEvent&&Ze?()=>{}:il(o,()=>{v(l,!1)},e.options.isScrollingResetDelay),t=u=>()=>{const{horizontal:s,isRtl:p}=e.options;l=s?a.scrollLeft*(p&&-1||1):a.scrollTop,i(),v(l,u)},n=t(!0),b=t(!1);b(),a.addEventListener("scroll",n,Ye);const d=e.options.useScrollendEvent&&Ze;return d&&a.addEventListener("scrollend",b,Ye),()=>{a.removeEventListener("scroll",n),d&&a.removeEventListener("scrollend",b)}},cl=(e,v,a)=>{if(v!=null&&v.borderBoxSize){const o=v.borderBoxSize[0];if(o)return Math.round(o[a.options.horizontal?"inlineSize":"blockSize"])}return e[a.options.horizontal?"offsetWidth":"offsetHeight"]},vl=(e,{adjustments:v=0,behavior:a},o)=>{var l,i;const t=e+v;(i=(l=o.scrollElement)==null?void 0:l.scrollTo)==null||i.call(l,{[o.options.horizontal?"left":"top"]:t,behavior:a})};class fl{constructor(v){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let a=null;const o=()=>a||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:a=new this.targetWindow.ResizeObserver(l=>{l.forEach(i=>{const t=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}));return{disconnect:()=>{var l;(l=o())==null||l.disconnect(),a=null},observe:l=>{var i;return(i=o())==null?void 0:i.observe(l,{box:"border-box"})},unobserve:l=>{var i;return(i=o())==null?void 0:i.unobserve(l)}}})(),this.range=null,this.setOptions=a=>{Object.entries(a).forEach(([o,l])=>{typeof l>"u"&&delete a[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:sl,rangeExtractor:ul,onChange:()=>{},measureElement:cl,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...a}},this.notify=a=>{var o,l;(l=(o=this.options).onChange)==null||l.call(o,this,a)},this.maybeNotify=ye(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),a=>{this.notify(a)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(a=>a()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var a;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((a=this.scrollElement)==null?void 0:a.window)??null,this.elementsCache.forEach(l=>{this.observer.observe(l)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(l,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<l?"forward":"backward":null,this.scrollOffset=l,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(a,o)=>{const l=new Map,i=new Map;for(let t=o-1;t>=0;t--){const n=a[t];if(l.has(n.lane))continue;const b=i.get(n.lane);if(b==null||n.end>b.end?i.set(n.lane,n):n.end<b.end&&l.set(n.lane,!0),l.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((t,n)=>t.end===n.end?t.index-n.index:t.end-n.end)[0]:void 0},this.getMeasurementOptions=ye(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(a,o,l,i,t)=>(this.pendingMeasuredCacheIndexes=[],{count:a,paddingStart:o,scrollMargin:l,getItemKey:i,enabled:t}),{key:!1}),this.getMeasurements=ye(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:a,paddingStart:o,scrollMargin:l,getItemKey:i,enabled:t},n)=>{if(!t)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const b=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,b);for(let u=b;u<a;u++){const s=i(u),p=this.options.lanes===1?d[u-1]:this.getFurthestMeasurement(d,u),M=p?p.end+this.options.gap:o+l,w=n.get(s),I=typeof w=="number"?w:this.options.estimateSize(u),E=M+I,P=p?p.lane:u%this.options.lanes;d[u]={index:u,start:M,size:I,end:E,key:s,lane:P}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ye(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(a,o,l,i)=>this.range=a.length>0&&o>0?pl({measurements:a,outerSize:o,scrollOffset:l,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ye(()=>{let a=null,o=null;const l=this.calculateRange();return l&&(a=l.startIndex,o=l.endIndex),this.maybeNotify.updateDeps([this.isScrolling,a,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,a,o]},(a,o,l,i,t)=>i===null||t===null?[]:a({startIndex:i,endIndex:t,overscan:o,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=a=>{const o=this.options.indexAttribute,l=a.getAttribute(o);return l?parseInt(l,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(a,o)=>{const l=this.indexFromElement(a),i=this.measurementsCache[l];if(!i)return;const t=i.key,n=this.elementsCache.get(t);n!==a&&(n&&this.observer.unobserve(n),this.observer.observe(a),this.elementsCache.set(t,a)),a.isConnected&&this.resizeItem(l,this.options.measureElement(a,o,this))},this.resizeItem=(a,o)=>{const l=this.measurementsCache[a];if(!l)return;const i=this.itemSizeCache.get(l.key)??l.size,t=o-i;t!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(l,t,this):l.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=t,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(l.index),this.itemSizeCache=new Map(this.itemSizeCache.set(l.key,o)),this.notify(!1))},this.measureElement=a=>{if(!a){this.elementsCache.forEach((o,l)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(l))});return}this._measureElement(a,void 0)},this.getVirtualItems=ye(()=>[this.getVirtualIndexes(),this.getMeasurements()],(a,o)=>{const l=[];for(let i=0,t=a.length;i<t;i++){const n=a[i],b=o[n];l.push(b)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=a=>{const o=this.getMeasurements();if(o.length!==0)return Je(o[pt(0,o.length-1,l=>Je(o[l]).start,a)])},this.getOffsetForAlignment=(a,o,l=0)=>{const i=this.getSize(),t=this.getScrollOffset();o==="auto"&&(o=a>=t+i?"end":"start"),o==="center"?a+=(l-i)/2:o==="end"&&(a-=i);const n=this.getTotalSize()+this.options.scrollMargin-i;return Math.max(Math.min(n,a),0)},this.getOffsetForIndex=(a,o="auto")=>{a=Math.max(0,Math.min(a,this.options.count-1));const l=this.measurementsCache[a];if(!l)return;const i=this.getSize(),t=this.getScrollOffset();if(o==="auto")if(l.end>=t+i-this.options.scrollPaddingEnd)o="end";else if(l.start<=t+this.options.scrollPaddingStart)o="start";else return[t,o];const n=o==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(n,o,l.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(a,{align:o="start",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(a,o),{adjustments:void 0,behavior:l})},this.scrollToIndex=(a,{align:o="auto",behavior:l}={})=>{l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),a=Math.max(0,Math.min(a,this.options.count-1));let i=0;const t=10,n=d=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(a,d);if(!u){console.warn("Failed to get offset for index:",a);return}const[s,p]=u;this._scrollToOffset(s,{adjustments:void 0,behavior:l}),this.targetWindow.requestAnimationFrame(()=>{const M=this.getScrollOffset(),w=this.getOffsetForIndex(a,p);if(!w){console.warn("Failed to get offset for index:",a);return}ol(w[0],M)||b(p)})},b=d=>{this.targetWindow&&(i++,i<t?this.targetWindow.requestAnimationFrame(()=>n(d)):console.warn(`Failed to scroll to index ${a} after ${t} attempts.`))};n(o)},this.scrollBy=(a,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+a,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var a;const o=this.getMeasurements();let l;if(o.length===0)l=this.options.paddingStart;else if(this.options.lanes===1)l=((a=o[o.length-1])==null?void 0:a.end)??0;else{const i=Array(this.options.lanes).fill(null);let t=o.length-1;for(;t>=0&&i.some(n=>n===null);){const n=o[t];i[n.lane]===null&&(i[n.lane]=n.end),t--}l=Math.max(...i.filter(n=>n!==null))}return Math.max(l-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(a,{adjustments:o,behavior:l})=>{this.options.scrollToFn(a,{behavior:l,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(v)}}const pt=(e,v,a,o)=>{for(;e<=v;){const l=(e+v)/2|0,i=a(l);if(i<o)e=l+1;else if(i>o)v=l-1;else return l}return e>0?e-1:0};function pl({measurements:e,outerSize:v,scrollOffset:a,lanes:o}){const l=e.length-1,i=b=>e[b].start;if(e.length<=o)return{startIndex:0,endIndex:l};let t=pt(0,l,i,a),n=t;if(o===1)for(;n<l&&e[n].end<a+v;)n++;else if(o>1){const b=Array(o).fill(0);for(;n<l&&b.some(u=>u<a+v);){const u=e[n];b[u.lane]=u.end,n++}const d=Array(o).fill(a+v);for(;t>=0&&d.some(u=>u>=a);){const u=e[t];d[u.lane]=u.start,t--}t=Math.max(0,t-t%o),n=Math.min(l,n+(o-1-n%o))}return{startIndex:t,endIndex:n}}function bl(e){const v=new fl(U(e)),a=Ot(v),o=v._didMount();return ne(()=>U(e).getScrollElement(),l=>{l&&v._willUpdate()},{immediate:!0}),ne(()=>U(e),l=>{v.setOptions({...l,onChange:(i,t)=>{var n;We(a),(n=l.onChange)==null||n.call(l,i,t)}}),v._willUpdate(),We(a)},{immediate:!0}),St(o),a}function ml(e){return bl(y(()=>({observeElementRect:rl,observeElementOffset:dl,scrollToFn:vl,...U(e)})))}function hl(){let e=Ee();return De(()=>e.dispose()),e}function gl(){let e=hl();return v=>{e.dispose(),e.nextFrame(v)}}var bt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(bt||{}),yl={};function Ol(e,v){return e===v}var Sl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Sl||{}),Cl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Cl||{}),Il=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Il||{});let mt=Symbol("ComboboxContext");function Ce(e){let v=Ne(mt,null);if(v===null){let a=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Ce),a}return v}let ht=Symbol("VirtualContext"),wl=ee({name:"VirtualProvider",setup(e,{slots:v}){let a=Ce("VirtualProvider"),o=y(()=>{let n=x(a.optionsRef);if(!n)return{start:0,end:0};let b=window.getComputedStyle(n);return{start:parseFloat(b.paddingBlockStart||b.paddingTop),end:parseFloat(b.paddingBlockEnd||b.paddingBottom)}}),l=ml(y(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:a.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return x(a.optionsRef)},overscan:12}))),i=y(()=>{var n;return(n=a.virtual.value)==null?void 0:n.options}),t=T(0);return ne([i],()=>{t.value+=1}),je(ht,a.virtual.value?l:null),()=>[Se("div",{style:{position:"relative",width:"100%",height:`${l.value.getTotalSize()}px`},ref:n=>{if(n){if(typeof process<"u"&&yl.JEST_WORKER_ID!==void 0||a.activationTrigger.value===0)return;a.activeOptionIndex.value!==null&&a.virtual.value.options.length>a.activeOptionIndex.value&&l.value.scrollToIndex(a.activeOptionIndex.value)}}},l.value.getVirtualItems().map(n=>Rt(v.default({option:a.virtual.value.options[n.index],open:a.comboboxState.value===0})[0],{key:`${t.value}-${n.index}`,"data-index":n.index,"aria-setsize":a.virtual.value.options.length,"aria-posinset":n.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${n.start}px)`,overflowAnchor:"none"}})))]}}),Rl=ee({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:v,attrs:a,emit:o}){let l=T(1),i=T(null),t=T(null),n=T(null),b=T(null),d=T({static:!1,hold:!1}),u=T([]),s=T(null),p=T(2),M=T(!1);function w(h=R=>R){let R=s.value!==null?u.value[s.value]:null,C=h(u.value.slice()),g=C.length>0&&C[0].dataRef.order.value!==null?C.sort((z,H)=>z.dataRef.order.value-H.dataRef.order.value):it(C,z=>x(z.dataRef.domRef)),A=R?g.indexOf(R):null;return A===-1&&(A=null),{options:g,activeOptionIndex:A}}let I=y(()=>e.multiple?1:0),E=y(()=>e.nullable),[P,O]=dt(y(()=>e.modelValue),h=>o("update:modelValue",h),y(()=>e.defaultValue)),r=y(()=>P.value===void 0?_(I.value,{1:[],0:void 0}):P.value),S=null,c=null;function m(h){return _(I.value,{0(){return O==null?void 0:O(h)},1:()=>{let R=W(f.value.value).slice(),C=W(h),g=R.findIndex(A=>f.compare(C,W(A)));return g===-1?R.push(C):R.splice(g,1),O==null?void 0:O(R)}})}let k=y(()=>{});ne([k],([h],[R])=>{if(f.virtual.value&&h&&R&&s.value!==null){let C=h.indexOf(R[s.value]);C!==-1?s.value=C:s.value=null}});let f={comboboxState:l,value:r,mode:I,compare(h,R){if(typeof e.by=="string"){let C=e.by;return(h==null?void 0:h[C])===(R==null?void 0:R[C])}return e.by===null?Ol(h,R):e.by(h,R)},calculateIndex(h){return f.virtual.value?e.by===null?f.virtual.value.options.indexOf(h):f.virtual.value.options.findIndex(R=>f.compare(R,h)):u.value.findIndex(R=>f.compare(R.dataRef.value,h))},defaultValue:y(()=>e.defaultValue),nullable:E,immediate:y(()=>!1),virtual:y(()=>null),inputRef:t,labelRef:i,buttonRef:n,optionsRef:b,disabled:y(()=>e.disabled),options:u,change(h){O(h)},activeOptionIndex:y(()=>{if(M.value&&s.value===null&&(f.virtual.value?f.virtual.value.options.length>0:u.value.length>0)){if(f.virtual.value){let R=f.virtual.value.options.findIndex(C=>{var g;return!((g=f.virtual.value)!=null&&g.disabled(C))});if(R!==-1)return R}let h=u.value.findIndex(R=>!R.dataRef.disabled);if(h!==-1)return h}return s.value}),activationTrigger:p,optionsPropsRef:d,closeCombobox(){M.value=!1,!e.disabled&&l.value!==1&&(l.value=1,s.value=null)},openCombobox(){if(M.value=!0,!e.disabled&&l.value!==0){if(f.value.value){let h=f.calculateIndex(f.value.value);h!==-1&&(s.value=h)}l.value=0}},setActivationTrigger(h){p.value=h},goToOption(h,R,C){M.value=!1,S!==null&&cancelAnimationFrame(S),S=requestAnimationFrame(()=>{if(e.disabled||b.value&&!d.value.static&&l.value===1)return;if(f.virtual.value){s.value=h===L.Specific?R:Fe({focus:h},{resolveItems:()=>f.virtual.value.options,resolveActiveIndex:()=>{var z,H;return(H=(z=f.activeOptionIndex.value)!=null?z:f.virtual.value.options.findIndex(te=>{var re;return!((re=f.virtual.value)!=null&&re.disabled(te))}))!=null?H:null},resolveDisabled:z=>f.virtual.value.disabled(z),resolveId(){throw new Error("Function not implemented.")}}),p.value=C??2;return}let g=w();if(g.activeOptionIndex===null){let z=g.options.findIndex(H=>!H.dataRef.disabled);z!==-1&&(g.activeOptionIndex=z)}let A=h===L.Specific?R:Fe({focus:h},{resolveItems:()=>g.options,resolveActiveIndex:()=>g.activeOptionIndex,resolveId:z=>z.id,resolveDisabled:z=>z.dataRef.disabled});s.value=A,p.value=C??2,u.value=g.options})},selectOption(h){let R=u.value.find(g=>g.id===h);if(!R)return;let{dataRef:C}=R;m(C.value)},selectActiveOption(){if(f.activeOptionIndex.value!==null){if(f.virtual.value)m(f.virtual.value.options[f.activeOptionIndex.value]);else{let{dataRef:h}=u.value[f.activeOptionIndex.value];m(h.value)}f.goToOption(L.Specific,f.activeOptionIndex.value)}},registerOption(h,R){let C=wt({id:h,dataRef:R});if(f.virtual.value){u.value.push(C);return}c&&cancelAnimationFrame(c);let g=w(A=>(A.push(C),A));s.value===null&&f.isSelected(R.value.value)&&(g.activeOptionIndex=g.options.indexOf(C)),u.value=g.options,s.value=g.activeOptionIndex,p.value=2,g.options.some(A=>!x(A.dataRef.domRef))&&(c=requestAnimationFrame(()=>{let A=w();u.value=A.options,s.value=A.activeOptionIndex}))},unregisterOption(h,R){if(S!==null&&cancelAnimationFrame(S),R&&(M.value=!0),f.virtual.value){u.value=u.value.filter(g=>g.id!==h);return}let C=w(g=>{let A=g.findIndex(z=>z.id===h);return A!==-1&&g.splice(A,1),g});u.value=C.options,s.value=C.activeOptionIndex,p.value=2},isSelected(h){return _(I.value,{0:()=>f.compare(W(f.value.value),W(h)),1:()=>W(f.value.value).some(R=>f.compare(W(R),W(h)))})},isActive(h){return s.value===f.calculateIndex(h)}};tt([t,n,b],()=>f.closeCombobox(),y(()=>l.value===0)),je(mt,f),lt(y(()=>_(l.value,{0:pe.Open,1:pe.Closed})));let $=y(()=>{var h;return(h=x(t))==null?void 0:h.closest("form")});return fe(()=>{ne([$],()=>{if(!$.value||e.defaultValue===void 0)return;function h(){f.change(e.defaultValue)}return $.value.addEventListener("reset",h),()=>{var R;(R=$.value)==null||R.removeEventListener("reset",h)}},{immediate:!0})}),()=>{var h,R,C;let{name:g,disabled:A,form:z,...H}=e,te={open:l.value===0,disabled:A,activeIndex:f.activeOptionIndex.value,activeOption:f.activeOptionIndex.value===null?null:f.virtual.value?f.virtual.value.options[(h=f.activeOptionIndex.value)!=null?h:0]:(C=(R=f.options.value[f.activeOptionIndex.value])==null?void 0:R.dataRef.value)!=null?C:null,value:r.value};return Se(xe,[...g!=null&&r.value!=null?ct({[g]:r.value}).map(([re,ae])=>Se(nt,at({features:ot.Hidden,key:re,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:z,disabled:A,name:re,value:ae}))):[],ce({theirProps:{...a,...Be(H,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:te,slots:v,attrs:a,name:"Combobox"})])}}}),kl=ee({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:v,slots:a,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-combobox-button-${me()}`,t=Ce("ComboboxButton");o({el:t.buttonRef,$el:t.buttonRef});function n(u){t.disabled.value||(t.comboboxState.value===0?t.closeCombobox():(u.preventDefault(),t.openCombobox()),Z(()=>{var s;return(s=x(t.inputRef))==null?void 0:s.focus({preventScroll:!0})}))}function b(u){switch(u.key){case F.ArrowDown:u.preventDefault(),u.stopPropagation(),t.comboboxState.value===1&&t.openCombobox(),Z(()=>{var s;return(s=t.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.ArrowUp:u.preventDefault(),u.stopPropagation(),t.comboboxState.value===1&&(t.openCombobox(),Z(()=>{t.value.value||t.goToOption(L.Last)})),Z(()=>{var s;return(s=t.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return;case F.Escape:if(t.comboboxState.value!==0)return;u.preventDefault(),t.optionsRef.value&&!t.optionsPropsRef.value.static&&u.stopPropagation(),t.closeCombobox(),Z(()=>{var s;return(s=t.inputRef.value)==null?void 0:s.focus({preventScroll:!0})});return}}let d=et(y(()=>({as:e.as,type:v.type})),t.buttonRef);return()=>{var u,s;let p={open:t.comboboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...M}=e,w={ref:t.buttonRef,id:i,type:d.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=x(t.optionsRef))==null?void 0:u.id,"aria-expanded":t.comboboxState.value===0,"aria-labelledby":t.labelRef.value?[(s=x(t.labelRef))==null?void 0:s.id,i].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:b,onClick:n};return ce({ourProps:w,theirProps:M,slot:p,attrs:v,slots:a,name:"ComboboxButton"})}}}),Ml=ee({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:v,attrs:a,slots:o,expose:l}){var i;let t=(i=e.id)!=null?i:`headlessui-combobox-input-${me()}`,n=Ce("ComboboxInput"),b=y(()=>Ct(x(n.inputRef))),d={value:!1};l({el:n.inputRef,$el:n.inputRef});function u(){n.change(null);let c=x(n.optionsRef);c&&(c.scrollTop=0),n.goToOption(L.Nothing)}let s=y(()=>{var c;let m=n.value.value;return x(n.inputRef)?typeof e.displayValue<"u"&&m!==void 0?(c=e.displayValue(m))!=null?c:"":typeof m=="string"?m:"":""});fe(()=>{ne([s,n.comboboxState,b],([c,m],[k,f])=>{if(d.value)return;let $=x(n.inputRef);$&&((f===0&&m===1||c!==k)&&($.value=c),requestAnimationFrame(()=>{var h;if(d.value||!$||((h=b.value)==null?void 0:h.activeElement)!==$)return;let{selectionStart:R,selectionEnd:C}=$;Math.abs((C??0)-(R??0))===0&&R===0&&$.setSelectionRange($.value.length,$.value.length)}))},{immediate:!0}),ne([n.comboboxState],([c],[m])=>{if(c===0&&m===1){if(d.value)return;let k=x(n.inputRef);if(!k)return;let f=k.value,{selectionStart:$,selectionEnd:h,selectionDirection:R}=k;k.value="",k.value=f,R!==null?k.setSelectionRange($,h,R):k.setSelectionRange($,h)}})});let p=T(!1);function M(){p.value=!0}function w(){Ee().nextFrame(()=>{p.value=!1})}let I=gl();function E(c){switch(d.value=!0,I(()=>{d.value=!1}),c.key){case F.Enter:if(d.value=!1,n.comboboxState.value!==0||p.value)return;if(c.preventDefault(),c.stopPropagation(),n.activeOptionIndex.value===null){n.closeCombobox();return}n.selectActiveOption(),n.mode.value===0&&n.closeCombobox();break;case F.ArrowDown:return d.value=!1,c.preventDefault(),c.stopPropagation(),_(n.comboboxState.value,{0:()=>n.goToOption(L.Next),1:()=>n.openCombobox()});case F.ArrowUp:return d.value=!1,c.preventDefault(),c.stopPropagation(),_(n.comboboxState.value,{0:()=>n.goToOption(L.Previous),1:()=>{n.openCombobox(),Z(()=>{n.value.value||n.goToOption(L.Last)})}});case F.Home:if(c.shiftKey)break;return d.value=!1,c.preventDefault(),c.stopPropagation(),n.goToOption(L.First);case F.PageUp:return d.value=!1,c.preventDefault(),c.stopPropagation(),n.goToOption(L.First);case F.End:if(c.shiftKey)break;return d.value=!1,c.preventDefault(),c.stopPropagation(),n.goToOption(L.Last);case F.PageDown:return d.value=!1,c.preventDefault(),c.stopPropagation(),n.goToOption(L.Last);case F.Escape:if(d.value=!1,n.comboboxState.value!==0)return;c.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&c.stopPropagation(),n.nullable.value&&n.mode.value===0&&n.value.value===null&&u(),n.closeCombobox();break;case F.Tab:if(d.value=!1,n.comboboxState.value!==0)return;n.mode.value===0&&n.activationTrigger.value!==1&&n.selectActiveOption(),n.closeCombobox();break}}function P(c){v("change",c),n.nullable.value&&n.mode.value===0&&c.target.value===""&&u(),n.openCombobox()}function O(c){var m,k,f;let $=(m=c.relatedTarget)!=null?m:He.find(h=>h!==c.currentTarget);if(d.value=!1,!((k=x(n.optionsRef))!=null&&k.contains($))&&!((f=x(n.buttonRef))!=null&&f.contains($))&&n.comboboxState.value===0)return c.preventDefault(),n.mode.value===0&&(n.nullable.value&&n.value.value===null?u():n.activationTrigger.value!==1&&n.selectActiveOption()),n.closeCombobox()}function r(c){var m,k,f;let $=(m=c.relatedTarget)!=null?m:He.find(h=>h!==c.currentTarget);(k=x(n.buttonRef))!=null&&k.contains($)||(f=x(n.optionsRef))!=null&&f.contains($)||n.disabled.value||n.immediate.value&&n.comboboxState.value!==0&&(n.openCombobox(),Ee().nextFrame(()=>{n.setActivationTrigger(1)}))}let S=y(()=>{var c,m,k,f;return(f=(k=(m=e.defaultValue)!=null?m:n.defaultValue.value!==void 0?(c=e.displayValue)==null?void 0:c.call(e,n.defaultValue.value):null)!=null?k:n.defaultValue.value)!=null?f:""});return()=>{var c,m,k,f,$,h,R;let C={open:n.comboboxState.value===0},{displayValue:g,onChange:A,...z}=e,H={"aria-controls":(c=n.optionsRef.value)==null?void 0:c.id,"aria-expanded":n.comboboxState.value===0,"aria-activedescendant":n.activeOptionIndex.value===null?void 0:n.virtual.value?(m=n.options.value.find(te=>!n.virtual.value.disabled(te.dataRef.value)&&n.compare(te.dataRef.value,n.virtual.value.options[n.activeOptionIndex.value])))==null?void 0:m.id:(k=n.options.value[n.activeOptionIndex.value])==null?void 0:k.id,"aria-labelledby":(h=(f=x(n.labelRef))==null?void 0:f.id)!=null?h:($=x(n.buttonRef))==null?void 0:$.id,"aria-autocomplete":"list",id:t,onCompositionstart:M,onCompositionend:w,onKeydown:E,onInput:P,onFocus:r,onBlur:O,role:"combobox",type:(R=a.type)!=null?R:"text",tabIndex:0,ref:n.inputRef,defaultValue:S.value,disabled:n.disabled.value===!0?!0:void 0};return ce({ourProps:H,theirProps:z,slot:C,attrs:a,slots:o,features:Oe.RenderStrategy|Oe.Static,name:"ComboboxInput"})}}}),xl=ee({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:v,slots:a,expose:o}){let l=Ce("ComboboxOptions"),i=`headlessui-combobox-options-${me()}`;o({el:l.optionsRef,$el:l.optionsRef}),Me(()=>{l.optionsPropsRef.value.static=e.static}),Me(()=>{l.optionsPropsRef.value.hold=e.hold});let t=_e(),n=y(()=>t!==null?(t.value&pe.Open)===pe.Open:l.comboboxState.value===0);Zt({container:y(()=>x(l.optionsRef)),enabled:y(()=>l.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function b(d){d.preventDefault()}return()=>{var d,u,s;let p={open:l.comboboxState.value===0},M={"aria-labelledby":(s=(d=x(l.labelRef))==null?void 0:d.id)!=null?s:(u=x(l.buttonRef))==null?void 0:u.id,id:i,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0,onMousedown:b},w=Be(e,["hold"]);return ce({ourProps:M,theirProps:w,slot:p,attrs:v,slots:l.virtual.value&&l.comboboxState.value===0?{...a,default:()=>[Se(wl,{},a.default)]}:a,features:Oe.RenderStrategy|Oe.Static,visible:n.value,name:"ComboboxOptions"})}}}),Al=ee({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:v,attrs:a,expose:o}){let l=Ce("ComboboxOption"),i=`headlessui-combobox-option-${me()}`,t=T(null),n=y(()=>e.disabled);o({el:t,$el:t});let b=y(()=>{var O;return l.virtual.value?l.activeOptionIndex.value===l.calculateIndex(e.value):l.activeOptionIndex.value===null?!1:((O=l.options.value[l.activeOptionIndex.value])==null?void 0:O.id)===i}),d=y(()=>l.isSelected(e.value)),u=Ne(ht,null),s=y(()=>({disabled:e.disabled,value:e.value,domRef:t,order:y(()=>e.order)}));fe(()=>l.registerOption(i,s)),De(()=>l.unregisterOption(i,b.value)),Me(()=>{let O=x(t);O&&(u==null||u.value.measureElement(O))}),Me(()=>{l.comboboxState.value===0&&b.value&&(l.virtual.value||l.activationTrigger.value!==0&&Z(()=>{var O,r;return(r=(O=x(t))==null?void 0:O.scrollIntoView)==null?void 0:r.call(O,{block:"nearest"})}))});function p(O){O.preventDefault(),O.button===bt.Left&&(n.value||(l.selectOption(i),It()||requestAnimationFrame(()=>{var r;return(r=x(l.inputRef))==null?void 0:r.focus({preventScroll:!0})}),l.mode.value===0&&l.closeCombobox()))}function M(){var O;if(e.disabled||(O=l.virtual.value)!=null&&O.disabled(e.value))return l.goToOption(L.Nothing);let r=l.calculateIndex(e.value);l.goToOption(L.Specific,r)}let w=vt();function I(O){w.update(O)}function E(O){var r;if(!w.wasMoved(O)||e.disabled||(r=l.virtual.value)!=null&&r.disabled(e.value)||b.value)return;let S=l.calculateIndex(e.value);l.goToOption(L.Specific,S,0)}function P(O){var r;w.wasMoved(O)&&(e.disabled||(r=l.virtual.value)!=null&&r.disabled(e.value)||b.value&&(l.optionsPropsRef.value.hold||l.goToOption(L.Nothing)))}return()=>{let{disabled:O}=e,r={active:b.value,selected:d.value,disabled:O},S={id:i,ref:t,role:"option",tabIndex:O===!0?void 0:-1,"aria-disabled":O===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:p,onFocus:M,onPointerenter:I,onMouseenter:I,onPointermove:E,onMousemove:E,onPointerleave:P,onMouseleave:P},c=Be(e,["order","value"]);return ce({ourProps:S,theirProps:c,slot:r,attrs:a,slots:v,name:"ComboboxOption"})}}});function Bl(e,v){return e===v}var Pl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Pl||{}),$l=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))($l||{}),zl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(zl||{});function Vl(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let gt=Symbol("ListboxContext");function $e(e){let v=Ne(gt,null);if(v===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,$e),a}return v}let Tl=ee({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Bl},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:v,attrs:a,emit:o}){let l=T(1),i=T(null),t=T(null),n=T(null),b=T([]),d=T(""),u=T(null),s=T(1);function p(r=S=>S){let S=u.value!==null?b.value[u.value]:null,c=it(r(b.value.slice()),k=>x(k.dataRef.domRef)),m=S?c.indexOf(S):null;return m===-1&&(m=null),{options:c,activeOptionIndex:m}}let M=y(()=>e.multiple?1:0),[w,I]=dt(y(()=>e.modelValue),r=>o("update:modelValue",r),y(()=>e.defaultValue)),E=y(()=>w.value===void 0?_(M.value,{1:[],0:void 0}):w.value),P={listboxState:l,value:E,mode:M,compare(r,S){if(typeof e.by=="string"){let c=e.by;return(r==null?void 0:r[c])===(S==null?void 0:S[c])}return e.by(r,S)},orientation:y(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:t,optionsRef:n,disabled:y(()=>e.disabled),options:b,searchQuery:d,activeOptionIndex:u,activationTrigger:s,closeListbox(){e.disabled||l.value!==1&&(l.value=1,u.value=null)},openListbox(){e.disabled||l.value!==0&&(l.value=0)},goToOption(r,S,c){if(e.disabled||l.value===1)return;let m=p(),k=Fe(r===L.Specific?{focus:L.Specific,id:S}:{focus:r},{resolveItems:()=>m.options,resolveActiveIndex:()=>m.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.disabled});d.value="",u.value=k,s.value=c??1,b.value=m.options},search(r){if(e.disabled||l.value===1)return;let S=d.value!==""?0:1;d.value+=r.toLowerCase();let c=(u.value!==null?b.value.slice(u.value+S).concat(b.value.slice(0,u.value+S)):b.value).find(k=>k.dataRef.textValue.startsWith(d.value)&&!k.dataRef.disabled),m=c?b.value.indexOf(c):-1;m===-1||m===u.value||(u.value=m,s.value=1)},clearSearch(){e.disabled||l.value!==1&&d.value!==""&&(d.value="")},registerOption(r,S){let c=p(m=>[...m,{id:r,dataRef:S}]);b.value=c.options,u.value=c.activeOptionIndex},unregisterOption(r){let S=p(c=>{let m=c.findIndex(k=>k.id===r);return m!==-1&&c.splice(m,1),c});b.value=S.options,u.value=S.activeOptionIndex,s.value=1},theirOnChange(r){e.disabled||I(r)},select(r){e.disabled||I(_(M.value,{0:()=>r,1:()=>{let S=W(P.value.value).slice(),c=W(r),m=S.findIndex(k=>P.compare(c,W(k)));return m===-1?S.push(c):S.splice(m,1),S}}))}};tt([t,n],(r,S)=>{var c;P.closeListbox(),kt(S,Mt.Loose)||(r.preventDefault(),(c=x(t))==null||c.focus())},y(()=>l.value===0)),je(gt,P),lt(y(()=>_(l.value,{0:pe.Open,1:pe.Closed})));let O=y(()=>{var r;return(r=x(t))==null?void 0:r.closest("form")});return fe(()=>{ne([O],()=>{if(!O.value||e.defaultValue===void 0)return;function r(){P.theirOnChange(e.defaultValue)}return O.value.addEventListener("reset",r),()=>{var S;(S=O.value)==null||S.removeEventListener("reset",r)}},{immediate:!0})}),()=>{let{name:r,modelValue:S,disabled:c,form:m,...k}=e,f={open:l.value===0,disabled:c,value:E.value};return Se(xe,[...r!=null&&E.value!=null?ct({[r]:E.value}).map(([$,h])=>Se(nt,at({features:ot.Hidden,key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:m,disabled:c,name:$,value:h}))):[],ce({ourProps:{},theirProps:{...a,...Be(k,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:f,slots:v,attrs:a,name:"Listbox"})])}}}),El=ee({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:v,slots:a,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-button-${me()}`,t=$e("ListboxButton");o({el:t.buttonRef,$el:t.buttonRef});function n(s){switch(s.key){case F.Space:case F.Enter:case F.ArrowDown:s.preventDefault(),t.openListbox(),Z(()=>{var p;(p=x(t.optionsRef))==null||p.focus({preventScroll:!0}),t.value.value||t.goToOption(L.First)});break;case F.ArrowUp:s.preventDefault(),t.openListbox(),Z(()=>{var p;(p=x(t.optionsRef))==null||p.focus({preventScroll:!0}),t.value.value||t.goToOption(L.Last)});break}}function b(s){switch(s.key){case F.Space:s.preventDefault();break}}function d(s){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),Z(()=>{var p;return(p=x(t.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(s.preventDefault(),t.openListbox(),Vl(()=>{var p;return(p=x(t.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let u=et(y(()=>({as:e.as,type:v.type})),t.buttonRef);return()=>{var s,p;let M={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...w}=e,I={ref:t.buttonRef,id:i,type:u.value,"aria-haspopup":"listbox","aria-controls":(s=x(t.optionsRef))==null?void 0:s.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(p=x(t.labelRef))==null?void 0:p.id,i].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:n,onKeyup:b,onClick:d};return ce({ourProps:I,theirProps:w,slot:M,attrs:v,slots:a,name:"ListboxButton"})}}}),Ll=ee({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:v,slots:a,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-options-${me()}`,t=$e("ListboxOptions"),n=T(null);o({el:t.optionsRef,$el:t.optionsRef});function b(s){switch(n.value&&clearTimeout(n.value),s.key){case F.Space:if(t.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),t.search(s.key);case F.Enter:if(s.preventDefault(),s.stopPropagation(),t.activeOptionIndex.value!==null){let p=t.options.value[t.activeOptionIndex.value];t.select(p.dataRef.value)}t.mode.value===0&&(t.closeListbox(),Z(()=>{var p;return(p=x(t.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case _(t.orientation.value,{vertical:F.ArrowDown,horizontal:F.ArrowRight}):return s.preventDefault(),s.stopPropagation(),t.goToOption(L.Next);case _(t.orientation.value,{vertical:F.ArrowUp,horizontal:F.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),t.goToOption(L.Previous);case F.Home:case F.PageUp:return s.preventDefault(),s.stopPropagation(),t.goToOption(L.First);case F.End:case F.PageDown:return s.preventDefault(),s.stopPropagation(),t.goToOption(L.Last);case F.Escape:s.preventDefault(),s.stopPropagation(),t.closeListbox(),Z(()=>{var p;return(p=x(t.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case F.Tab:s.preventDefault(),s.stopPropagation();break;default:s.key.length===1&&(t.search(s.key),n.value=setTimeout(()=>t.clearSearch(),350));break}}let d=_e(),u=y(()=>d!==null?(d.value&pe.Open)===pe.Open:t.listboxState.value===0);return()=>{var s,p;let M={open:t.listboxState.value===0},{...w}=e,I={"aria-activedescendant":t.activeOptionIndex.value===null||(s=t.options.value[t.activeOptionIndex.value])==null?void 0:s.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(p=x(t.buttonRef))==null?void 0:p.id,"aria-orientation":t.orientation.value,id:i,onKeydown:b,role:"listbox",tabIndex:0,ref:t.optionsRef};return ce({ourProps:I,theirProps:w,slot:M,attrs:v,slots:a,features:Oe.RenderStrategy|Oe.Static,visible:u.value,name:"ListboxOptions"})}}}),Fl=ee({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:v,attrs:a,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-option-${me()}`,t=$e("ListboxOption"),n=T(null);o({el:n,$el:n});let b=y(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===i:!1),d=y(()=>_(t.mode.value,{0:()=>t.compare(W(t.value.value),W(e.value)),1:()=>W(t.value.value).some(r=>t.compare(W(r),W(e.value)))})),u=y(()=>_(t.mode.value,{1:()=>{var r;let S=W(t.value.value);return((r=t.options.value.find(c=>S.some(m=>t.compare(W(m),W(c.dataRef.value)))))==null?void 0:r.id)===i},0:()=>d.value})),s=_t(n),p=y(()=>({disabled:e.disabled,value:e.value,get textValue(){return s()},domRef:n}));fe(()=>t.registerOption(i,p)),De(()=>t.unregisterOption(i)),fe(()=>{ne([t.listboxState,d],()=>{t.listboxState.value===0&&d.value&&_(t.mode.value,{1:()=>{u.value&&t.goToOption(L.Specific,i)},0:()=>{t.goToOption(L.Specific,i)}})},{immediate:!0})}),Me(()=>{t.listboxState.value===0&&b.value&&t.activationTrigger.value!==0&&Z(()=>{var r,S;return(S=(r=x(n))==null?void 0:r.scrollIntoView)==null?void 0:S.call(r,{block:"nearest"})})});function M(r){if(e.disabled)return r.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),Z(()=>{var S;return(S=x(t.buttonRef))==null?void 0:S.focus({preventScroll:!0})}))}function w(){if(e.disabled)return t.goToOption(L.Nothing);t.goToOption(L.Specific,i)}let I=vt();function E(r){I.update(r)}function P(r){I.wasMoved(r)&&(e.disabled||b.value||t.goToOption(L.Specific,i,0))}function O(r){I.wasMoved(r)&&(e.disabled||b.value&&t.goToOption(L.Nothing))}return()=>{let{disabled:r}=e,S={active:b.value,selected:d.value,disabled:r},{value:c,disabled:m,...k}=e,f={id:i,ref:n,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onClick:M,onFocus:w,onPointerenter:E,onMouseenter:E,onPointermove:P,onMousemove:P,onPointerleave:O,onMouseleave:O};return ce({ourProps:f,theirProps:k,slot:S,attrs:a,slots:v,name:"ListboxOption"})}}});const ue=Pe(ie.ui.strategy,ie.ui.select,xt),Re=Pe(ie.ui.strategy,ie.ui.selectMenu,At),Dl=ee({components:{HCombobox:Rl,HComboboxButton:kl,HComboboxOptions:xl,HComboboxOption:Al,HComboboxInput:Ml,HListbox:Tl,HListboxButton:El,HListboxOptions:Ll,HListboxOption:Fl,UIcon:ut,UAvatar:rt},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>ue.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>ue.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Re.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>Re.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>Re.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>Re.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(ue.size).includes(e)}},color:{type:String,default:()=>ue.default.color,validator(e){return[...ie.ui.colors,...Object.keys(ue.color)].includes(e)}},variant:{type:String,default:()=>ue.default.variant,validator(e){return[...Object.keys(ue.variant),...Object.values(ue.color).flatMap(v=>Object.keys(v))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},inputTargetForm:{type:String,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:v,slots:a}){const{ui:o,attrs:l}=Le("select",ke(e,"ui"),ue,ke(e,"class")),{ui:i}=Le("selectMenu",ke(e,"uiMenu"),Re),t=y(()=>zt({},e.popper,i.value.popper)),[n,b]=Vt(t.value),d=y(()=>{if(!e.by)return;if(typeof e.by=="function")return e.by;const V=e.by;return V.indexOf(".")>0?(N,D)=>ae(N,V)===ae(D,V):V}),{size:u,rounded:s}=Tt({ui:o,props:e}),{emitFormBlur:p,emitFormChange:M,inputId:w,color:I,size:E,name:P}=el(e,ue),O=y(()=>u.value??E.value),r=T(""),S=y({get(){return e.query??r.value},set(V){r.value=V,v("update:query",V)}}),c=y(()=>{function V(N,D){return d.value&&typeof d.value!="function"&&typeof N=="object"&&typeof D=="object"?Ge(N[d.value],D[d.value]):Ge(N,D)}function G(N){return e.valueAttribute?ae(N,e.valueAttribute):N}if(e.multiple){const N=e.modelValue;return!Array.isArray(N)||!N.length?[]:te.value.filter(D=>{const se=G(D);return N.some(yt=>V(yt,se))})}return te.value.find(N=>{const D=G(N);return V(D,W(e.modelValue))})??e.modelValue}),m=y(()=>e.modelValue?Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:["string","number"].includes(typeof e.modelValue)?e.valueAttribute?ae(c.value,e.optionAttribute):e.modelValue:ae(e.modelValue,e.optionAttribute):null),k=y(()=>{var G,N;const V=((N=(G=o.value.color)==null?void 0:G[I.value])==null?void 0:N[e.variant])||o.value.variant[e.variant];return Lt(we(o.value.base,i.value.select,s.value,o.value.size[O.value],o.value.gap[O.value],e.padded?o.value.padding[O.value]:"p-0",V==null?void 0:V.replaceAll("{color}",I.value),(f.value||a.leading)&&o.value.leading.padding[O.value],($.value||a.trailing)&&o.value.trailing.padding[O.value]),e.placeholder&&(!e.modelValue||Array.isArray(e.modelValue)&&!e.modelValue.length)&&o.value.placeholder,e.selectClass)}),f=y(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),$=y(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),h=y(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),R=y(()=>e.loading&&!f.value?e.loadingIcon:e.trailingIcon||e.icon),C=y(()=>we(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[O.value])),g=y(()=>we(o.value.icon.base,I.value&&ie.ui.colors.includes(I.value)&&o.value.icon.color.replaceAll("{color}",I.value),o.value.icon.size[O.value],e.loading&&o.value.icon.loading)),A=y(()=>we(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[O.value])),z=y(()=>we(o.value.icon.base,I.value&&ie.ui.colors.includes(I.value)&&o.value.icon.color.replaceAll("{color}",I.value),o.value.icon.size[O.value],e.loading&&!f.value&&o.value.icon.loading)),H=e.searchable&&typeof e.searchable=="function"?Ft(e.searchable,e.debounce):void 0,te=Et(async()=>H?await H(S.value):e.options||[],[],{lazy:e.searchableLazy});function re(V){return V.replace(/[.*+?^${}()|[\]\\]/g,G=>`\\${G}`)}function ae(V,G){return Ke(V,G)}const he=y(()=>{if(!S.value||H)return te.value;const V=re(S.value);return te.value.filter(G=>{var N;return((N=e.searchAttributes)!=null&&N.length?e.searchAttributes:[e.optionAttribute]).some(D=>{if(["string","number"].includes(typeof G))return String(G).search(new RegExp(V,"i"))!==-1;const se=Ke(G,D);return se!=null&&String(se).search(new RegExp(V,"i"))!==-1})})}),ze=y(()=>S.value===""||e.showCreateOptionWhen==="empty"&&he.value.length||e.showCreateOptionWhen==="always"&&he.value.find(G=>["string","number"].includes(typeof G)?G===S.value:ae(G,e.optionAttribute)===S.value)||typeof e.showCreateOptionWhen=="function"&&!e.showCreateOptionWhen(S.value,he.value)?null:["string","number"].includes(typeof e.modelValue)?S.value:{[e.optionAttribute]:S.value});function Ve(){e.clearSearchOnClose&&(S.value="")}ne(b,V=>{V?v("open"):(Ve(),v("close"),p())});function Te(V){W(e.modelValue)!==V&&(v("update:modelValue",V),v("change",V),M())}function Ae(V){S.value=V.target.value}return Dt(()=>Nt()),{ui:o,uiMenu:i,attrs:l,name:P,inputId:w,popper:t,trigger:n,container:b,selected:c,label:m,accessor:ae,isLeading:f,isTrailing:$,selectClass:k,leadingIconName:h,leadingIconClass:g,leadingWrapperIconClass:C,trailingIconName:R,trailingIconClass:z,trailingWrapperIconClass:A,filteredOptions:he,createOption:ze,query:S,onUpdate:Te,onQueryChange:Ae,by:d}}}),Nl=["value","required","form"],jl=["id","disabled"],Ul={class:"truncate"};function ql(e,v,a,o,l,i){const t=ut,n=Bt("HComboboxInput"),b=rt;return B(),K(Ie(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:j(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:J(({open:d})=>[e.required?(B(),Q("input",{key:0,value:e.modelValue,required:e.required,class:j(e.uiMenu.required),form:e.inputTargetForm,tabindex:"-1","aria-hidden":"true"},null,10,Nl)):X("",!0),(B(),K(Ie(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:j(e.uiMenu.trigger)},{default:J(()=>[le(e.$slots,"default",{open:d,disabled:e.disabled,loading:e.loading},()=>[q("button",de({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(B(),Q("span",{key:0,class:j(e.leadingWrapperIconClass)},[le(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[Y(t,{name:e.leadingIconName,class:j(e.leadingIconClass)},null,8,["name","class"])])],2)):X("",!0),le(e.$slots,"label",{selected:e.selected},()=>[e.label?(B(),Q("span",{key:0,class:j(e.uiMenu.label)},oe(e.label),3)):(B(),Q("span",{key:1,class:j(e.uiMenu.label)},oe(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(B(),Q("span",{key:1,class:j(e.trailingWrapperIconClass)},[le(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[Y(t,{name:e.trailingIconName,class:j(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):X("",!0)],16,jl)])]),_:2},1032,["class"])),d?(B(),Q("div",{key:1,ref:"container",class:j([e.uiMenu.container,e.uiMenu.width])},[Y(Pt,de({appear:""},e.uiMenu.transition),{default:J(()=>[q("div",null,[e.popper.arrow?(B(),Q("div",{key:0,"data-popper-arrow":"",class:j(Object.values(e.uiMenu.arrow))},null,2)):X("",!0),(B(),K(Ie(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:j([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:J(()=>{var u,s;return[e.searchable?(B(),K(n,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:j(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):X("",!0),(B(!0),Q(xe,null,Ue(e.filteredOptions,(p,M)=>(B(),K(Ie(e.searchable?"HComboboxOption":"HListboxOption"),{key:M,as:"template",value:e.valueAttribute?e.accessor(p,e.valueAttribute):p,disabled:p.disabled},{default:J(({active:w,selected:I,disabled:E})=>[q("li",{class:j([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,w?e.uiMenu.option.active:e.uiMenu.option.inactive,I&&e.uiMenu.option.selected,E&&e.uiMenu.option.disabled])},[q("div",{class:j(e.uiMenu.option.container)},[le(e.$slots,"option",{option:p,active:w,selected:I},()=>[p.icon?(B(),K(t,{key:0,name:p.icon,class:j([e.uiMenu.option.icon.base,w?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,p.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):p.avatar?(B(),K(b,de({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...p.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):p.chip?(B(),Q("span",{key:2,class:j(e.uiMenu.option.chip.base),style:$t({background:`#${p.chip}`})},null,6)):X("",!0),q("span",Ul,oe(["string","number"].includes(typeof p)?p:e.accessor(p,e.optionAttribute)),1)])],2),I?(B(),Q("span",{key:0,class:j([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[Y(t,{name:e.selectedIcon,class:j(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):X("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(B(),K(Ie(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:J(({active:p,selected:M})=>[q("li",{class:j([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,p?e.uiMenu.option.active:e.uiMenu.option.inactive])},[q("div",{class:j(e.uiMenu.option.container)},[le(e.$slots,"option-create",{option:e.createOption,active:p,selected:M},()=>[q("span",{class:j(e.uiMenu.option.create)},'Create "'+oe(typeof e.createOption=="string"?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((u=e.filteredOptions)!=null&&u.length)?(B(),Q("p",{key:2,class:j(e.uiMenu.option.empty)},[le(e.$slots,"option-empty",{query:e.query},()=>[be(oe(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(s=e.filteredOptions)!=null&&s.length?X("",!0):(B(),Q("p",{key:3,class:j(e.uiMenu.empty)},[le(e.$slots,"empty",{query:e.query},()=>[be(oe(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):X("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Wl=st(Dl,[["render",ql]]),ve=Pe(ie.ui.strategy,ie.ui.pagination,al),Hl=Pe(ie.ui.strategy,ie.ui.button,jt),Gl=ee({components:{UButton:qe},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>ve.default.size,validator(e){return Object.keys(Hl.size).includes(e)}},to:{type:Function,default:null},activeButton:{type:Object,default:()=>ve.default.activeButton},inactiveButton:{type:Object,default:()=>ve.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>ve.default.firstButton},lastButton:{type:Object,default:()=>ve.default.lastButton},prevButton:{type:Object,default:()=>ve.default.prevButton},nextButton:{type:Object,default:()=>ve.default.nextButton},divider:{type:String,default:"…"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:v}){const{ui:a,attrs:o}=Le("pagination",ke(e,"ui"),ve,ke(e,"class")),l=y({get(){return e.modelValue},set(w){v("update:modelValue",w)}}),i=y(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(w,I)=>I+1)),t=y(()=>{const w=i.value.length,I=l.value,E=Math.max(e.max,5),P=Math.floor((Math.min(E,w)-5)/2),O=I-P,r=I+P,S=O-1>1,c=r+1<w,m=[];if(w<=E){for(let k=1;k<=w;k++)m.push(k);return m}if(m.push(1),S&&m.push(e.divider),!c){const k=I+P+2-w;for(let f=I-P-k;f<=I-P-1;f++)m.push(f)}for(let k=Math.max(2,O);k<=Math.min(w,r);k++)m.push(k);if(!S){const k=1-(I-P-2);for(let f=I+P+1;f<=I+P+k;f++)m.push(f)}return c&&m.push(e.divider),r<w&&m.push(w),m.length>=3&&m[1]===e.divider&&m[2]===3&&(m[1]=2),m.length>=3&&m[m.length-2]===e.divider&&m[m.length-1]===m.length&&(m[m.length-2]=m.length-1),m}),n=y(()=>l.value>1),b=y(()=>l.value<i.value.length);function d(){n.value&&(l.value=1)}function u(){b.value&&(l.value=i.value.length)}function s(w){typeof w!="string"&&(l.value=w)}function p(){n.value&&l.value--}function M(){b.value&&l.value++}return{ui:a,attrs:o,currentPage:l,pages:i,displayedPages:t,canGoLastOrNext:b,canGoFirstOrPrev:n,onClickPrev:p,onClickNext:M,onClickPage:s,onClickFirst:d,onClickLast:u}}});function Kl(e,v,a,o,l,i){const t=qe;return B(),Q("div",de({class:e.ui.wrapper},e.attrs),[le(e.$slots,"first",{onClick:e.onClickFirst,canGoFirst:e.canGoFirstOrPrev},()=>{var n;return[e.firstButton&&e.showFirst?(B(),K(t,de({key:0,size:e.size,to:(n=e.to)==null?void 0:n.call(e,1),disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","to","disabled","class","onClick"])):X("",!0)]}),le(e.$slots,"prev",{onClick:e.onClickPrev,canGoPrev:e.canGoFirstOrPrev},()=>{var n;return[e.prevButton?(B(),K(t,de({key:0,size:e.size,to:(n=e.to)==null?void 0:n.call(e,e.currentPage-1),disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","to","disabled","class","onClick"])):X("",!0)]}),(B(!0),Q(xe,null,Ue(e.displayedPages,(n,b)=>{var d;return B(),K(t,de({key:`${n}-${b}`,to:typeof n=="number"?(d=e.to)==null?void 0:d.call(e,n):null,size:e.size,disabled:e.disabled,label:`${n}`},{ref_for:!0},n===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof n=="string","z-[1]":n===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(n)}),null,16,["to","size","disabled","label","class","onClick"])}),128)),le(e.$slots,"next",{onClick:e.onClickNext,canGoNext:e.canGoLastOrNext},()=>{var n;return[e.nextButton?(B(),K(t,de({key:0,size:e.size,to:(n=e.to)==null?void 0:n.call(e,e.currentPage+1),disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","to","disabled","class","onClick"])):X("",!0)]}),le(e.$slots,"last",{onClick:e.onClickLast,canGoLast:e.canGoLastOrNext},()=>{var n;return[e.lastButton&&e.showLast?(B(),K(t,de({key:0,size:e.size,to:(n=e.to)==null?void 0:n.call(e,e.pages.length),disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","to","disabled","class","onClick"])):X("",!0)]})],16)}const Ql=st(Gl,[["render",Kl]]),Jl=ee({__name:"NFTClassMetadataLoader",props:{classId:{type:String,required:!0}},setup(e){const v=ft(),a=e,o=T(!1);return fe(async()=>{try{o.value=!0,await v.lazyFetchClassMetadataById(a.classId)}catch{}finally{o.value=!1}}),(l,i)=>le(l.$slots,"default",{isLoading:U(o)})}}),Xl={class:"font-bold font-mono"},Yl={class:"flex justify-between items-center w-full px-4 py-3"},Zl={class:"flex items-center gap-1.5"},_l={class:"flex gap-1.5 items-center"},en={class:"flex flex-wrap justify-between items-center w-full px-4 py-3"},tn={class:"text-sm leading-5"},ln={class:"font-medium"},nn={class:"font-medium"},an={class:"font-medium"},on={class:"flex gap-1"},sn={key:1,class:"max-w-xs truncate"},yn=ee({__name:"index",setup(e){const v=Ut(),a=qt(),o=Wt(),l=ft(),{listingList:i,moderatedBookList:t,token:n}=Ht(o),{lazyFetchClassMetadataById:b}=l,{fetchBookListing:d,fetchModeratedBookList:u}=o,s=T(""),p=T(!1),M=[{label:"Current Listing",key:"current"},{label:"Viewable Listing",key:"viewable"}],w=y({get(){const C=M.findIndex(g=>g.key===v.query.tab);return C===-1?0:C},set(C){Qe(a({query:{tab:M[C].key}}),{replace:!0})}}),I=T(""),E=T({column:"pendingAction",direction:"desc"}),P=[5,10,20,50],O=T(P[1]),r=T(1),S=y(()=>(r.value-1)*O.value+1),c=y(()=>Math.min(r.value*O.value,m.value.length)),m=y(()=>(M[w.value].key==="viewable"?t:i).value.map(C=>{var g,A,z;return{classId:C.classId,className:(g=l.getClassMetadataById(C.classId))==null?void 0:g.name,priceInUSD:(A=C.prices)==null?void 0:A[0].price,prices:(z=C.prices)==null?void 0:z.map(H=>H.price),pendingAction:C.pendingNFTCount,sold:C.sold}}).filter(C=>{if(!I.value)return!0;const g=I.value.toLowerCase();return C.classId.toLowerCase().includes(g)||C.className.toLowerCase().includes(g)})),k=y(()=>{const{column:C,direction:g}=E.value;return m.value.sort((A,z)=>A[C]<z[C]?g==="asc"?-1:1:A[C]>z[C]?g==="asc"?1:-1:0)}),f=y(()=>k.value.slice((r.value-1)*O.value,r.value*O.value)),$=[{key:"classId",label:"Class Id",sortable:!0,class:"font-mono"},{key:"className",label:"Class Name",sortable:!0},{key:"priceInUSD",label:"Price in USD",sortable:!0},{key:"pendingAction",label:"Pending Action",sortable:!0},{key:"sold",label:"Sold",sortable:!0}],h=T($.slice(1,$.length));ne(p,C=>{C&&(s.value="")}),ne(w,()=>{I.value="",r.value=1}),ne(O,()=>{r.value=1}),fe(async()=>{const C=[d()];n.value&&C.push(u()),await Promise.all(C),new Set(i.value.map(A=>A.classId).concat(t.value.map(A=>A.classId))).forEach(A=>b(A))});async function R(C){await Qe(a({name:"nft-book-store-status-classId",params:{classId:C.classId}}))}return(C,g)=>{const A=Gt,z=Kt,H=qe,te=Xt,re=Yt,ae=Wl,he=Ql,ze=Jt,Ve=Jl,Te=tl,Ae=Qt,V=ll,G=nl;return B(),K(G,{ui:{constrained:""}},{default:J(()=>[U(s)?(B(),K(A,{key:0,class:"mt-4",icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:`${U(s)}`,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"red",variant:"link",padded:!1},onClose:g[0]||(g[0]=N=>s.value="")},null,8,["title"])):X("",!0),U(p)?(B(),K(z,{key:1,animation:"carousel"},{indicator:J(()=>g[8]||(g[8]=[be(" Loading... ")])),_:1})):X("",!0),Y(Ae,{ui:{header:{base:"flex justify-between items-center gap-4"}}},{header:J(()=>[g[9]||(g[9]=q("h2",{class:"text-xl font-bold font-mono"}," Liker Land Book Listing ",-1)),Y(H,{icon:"i-heroicons-plus-circle",label:"New Listing",to:U(a)({name:"nft-book-store-new"})},null,8,["to"])]),default:J(()=>[U(o).isAuthenticated?(B(),K(V,{key:0,modelValue:U(w),"onUpdate:modelValue":g[7]||(g[7]=N=>ge(w)?w.value=N:null),class:"w-full",items:M},{item:J(({item:N})=>[(B(),K(Ae,{key:N.key,ui:{header:{base:"flex justify-between items-center gap-4"},body:{base:"divide-y divide-gray-200 dark:divide-gray-700",padding:""}}},{header:J(()=>[q("h2",Xl,oe(N.label),1),Y(te,{modelValue:U(I),"onUpdate:modelValue":g[1]||(g[1]=D=>ge(I)?I.value=D:null),icon:"i-heroicons-magnifying-glass-20-solid",placeholder:"Search..."},null,8,["modelValue"])]),default:J(()=>[q("div",Yl,[q("div",Zl,[g[10]||(g[10]=q("span",{class:"text-sm"},"Rows per page",-1)),Y(re,{modelValue:U(O),"onUpdate:modelValue":g[2]||(g[2]=D=>ge(O)?O.value=D:null),options:P,class:"me-2 w-20",size:"xs"},null,8,["modelValue"])]),q("div",_l,[Y(ae,{modelValue:U(h),"onUpdate:modelValue":g[3]||(g[3]=D=>ge(h)?h.value=D:null),options:$,multiple:""},{default:J(()=>[Y(H,{class:"min-w-[180px]",label:"Columns",icon:"i-heroicons-view-columns",color:"gray",size:"xs"})]),_:1},8,["modelValue"]),Y(H,{icon:"i-heroicons-funnel",label:"Reset",color:"gray",size:"xs",disabled:!U(I),onClick:g[4]||(g[4]=D=>I.value="")},null,8,["disabled"])])]),q("div",en,[q("div",null,[q("span",tn,[g[11]||(g[11]=be(" Showing ")),q("span",ln,oe(U(S)),1),g[12]||(g[12]=be(" to ")),q("span",nn,oe(U(c)),1),g[13]||(g[13]=be(" of ")),q("span",an,oe(U(m).length),1),g[14]||(g[14]=be(" rows "))])]),Y(he,{modelValue:U(r),"onUpdate:modelValue":g[5]||(g[5]=D=>ge(r)?r.value=D:null),"page-count":U(O),total:U(m).length},null,8,["modelValue","page-count","total"])]),Y(Te,{sort:U(E),"onUpdate:sort":g[6]||(g[6]=D=>ge(E)?E.value=D:null),columns:U(h),rows:U(f),onSelect:R},{"priceInUSD-data":J(({row:D})=>[q("ul",on,[(B(!0),Q(xe,null,Ue(D.prices,se=>(B(),Q("li",{key:se},[Y(ze,{label:`$${se}`,variant:"solid",size:"xs",color:"gray",ui:{rounded:"rounded-full"}},null,8,["label"])]))),128))])]),"className-data":J(({row:D})=>[Y(Ve,{"class-id":D.classId},{default:J(({isLoading:se})=>[se||!D.className?(B(),K(z,{key:0})):(B(),Q("div",sn,oe(D.className),1))]),_:2},1032,["class-id"])]),_:1},8,["sort","columns","rows"])]),_:2},1024))]),_:1},8,["modelValue"])):X("",!0)]),_:1})]),_:1})}}});export{yn as default};
