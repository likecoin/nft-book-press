import{_ as m}from"./BcZA52h8.js";import{n as p,q as w,s as y,v as h,u as S,x as b,y as x,z as I,S as R,A as k,o as A,B,w as M,a as v}from"./Cgediu4u.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[e]="45d65cef-0bc2-4f1a-9e52-97ea03ec5b22",o._sentryDebugIdIdentifier="sentry-dbid-45d65cef-0bc2-4f1a-9e52-97ea03ec5b22")}catch{}})();const N=p({__name:"redirect",setup(o){const e=w(),{handleConnectorRedirect:n}=e,{wallet:r,signer:c}=y(e),{signMessageMemo:i,disconnect:d}=e,u=h(),{authenticate:l,clearSession:f}=u,_=S(),g=b();return x({title:"Redirecting ..."}),I(async()=>{const{method:a,code:s}=_.query;if(a&&s)try{if(await n({method:a,params:{code:s}}),!c.value)throw new Error("Failed to authenticate: no signer");const t=await i("authorize",R);if(!t)throw new Error("Failed to authenticate: no signature");await l(r.value,t)}catch(t){d(),f(),g.add({icon:"i-heroicons-exclamation-circle",title:t.toString(),timeout:0,color:"red",ui:{title:"text-red-400 dark:text-red-400"}})}k()}),(a,s)=>{const t=m;return A(),B(t,{class:"flex flex-col items-center justify-center"},{default:M(()=>s[0]||(s[0]=[v("h1",{class:"text-24"}," Redirecting ",-1)])),_:1})}}});export{N as default};
//# sourceMappingURL=l7p3RI2_.js.map
