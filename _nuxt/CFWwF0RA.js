import{n as P,T as $,v as A,s as R,u as U,r as d,C as k,h as O,z as j,o as I,B as D,w as a,de as T,df as h,a as i,t as S,F as n,d as z,N as E,b as s,G as K,a3 as q,Q as F,K as G,L as J}from"./D6SWFTK-.js";import{_ as Q}from"./Dyu6Qreo.js";import{_ as W}from"./CblZZMOj.js";import"./BIJ64lMo.js";(function(){try{var c=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f=new Error().stack;f&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[f]="2695837d-d1a8-48b0-9460-9d64dbf3b2d3",c._sentryDebugIdIdentifier="sentry-dbid-2695837d-d1a8-48b0-9460-9d64dbf3b2d3")}catch{}})();const H={class:"flex justify-between gap-4"},X={class:"text-lg font-bold font-mono flex-wrap"},Y=["textContent"],ne=P({__name:"[payoutId]",setup(c){const{LIKE_CO_API:f}=$().public,w=A(),{token:B}=R(w),V=U(),m=d({}),x=d([]),L=d(""),l=d(!1),C=d(V.params.payoutId),p=d(""),_=k({get:()=>!!p.value,set:t=>{t||(p.value="")}});O(l,t=>{t&&(L.value="")});const M=k(()=>{if(!m.value)return[];const{id:t,createdTs:e,amount:y,status:u,currency:o,arrivalTs:r}=m.value;return[{id:t,createdTs:new Date(e*1e3).toLocaleString(),amount:T(y,o),status:u,currency:h(o),arrivalTs:r?new Date(r*1e3).toLocaleString():""}]}),N=k(()=>x.value.map(t=>{const{commissionId:e,createdTs:y,amount:u,currency:o,description:r,status:g,metadata:v}=t;return{commissionId:e,createdTs:new Date(y*1e3).toLocaleString(),amount:T(u,o),currency:h(o),description:r,status:g,metadata:JSON.stringify(v,null,2)}}));return j(async()=>{try{l.value=!0;const t=await $fetch(`${f}/likernft/book/user/payouts/${C.value}`,{headers:{authorization:`Bearer ${B.value}`}});m.value=t,m.value.items&&(x.value=m.value.items)}finally{l.value=!1}}),(t,e)=>{const y=q,u=Q,o=F,r=G,g=J,v=W;return I(),D(v,{class:"space-y-10 pb-10"},{default:a(()=>[i("div",H,[i("h1",X," Payout Details - "+S(n(C)),1)]),n(l)?(I(),D(y,{key:0,animation:"carousel"},{indicator:a(()=>e[2]||(e[2]=[z(" Loading... ")])),_:1})):E("",!0),s(o,{ui:{body:{padding:""}}},{header:a(()=>e[3]||(e[3]=[i("h3",{class:"font-bold font-mono"}," Payout Information ",-1)])),default:a(()=>[s(u,{columns:[{key:"id",label:"ID"},{key:"createdTs",label:"Created"},{key:"currency",label:"Currency"},{key:"amount",label:"Payout Amount"},{key:"status",label:"Status"},{key:"arrivalTs",label:"Arrived"}],rows:n(M),loading:n(l),ui:{th:{base:"text-center"},td:{base:"text-center"}}},null,8,["rows","loading"])]),_:1}),s(o,{ui:{body:{padding:""}}},{header:a(()=>e[4]||(e[4]=[i("h3",{class:"text-sm font-bold font-mono"}," Payout Commission Item Details ",-1)])),default:a(()=>[s(u,{columns:[{key:"commissionId",label:"Commission ID"},{key:"createdTs",label:"Created"},{key:"currency",label:"Currency"},{key:"amount",label:"Commission Amount"},{key:"description",label:"Description"},{key:"status",label:"Status"},{key:"metadata",label:"Metadata"}],rows:n(N),loading:n(l),ui:{th:{base:"text-center"},td:{base:"text-center"}}},{"metadata-data":a(({row:b})=>[s(r,{label:"View",color:"gray",onClick:Z=>p.value=b.metadata},null,8,["onClick"])]),_:1},8,["rows","loading"])]),_:1}),s(g,{modelValue:n(_),"onUpdate:modelValue":e[1]||(e[1]=b=>K(_)?_.value=b:null)},{default:a(()=>[s(o,{ui:{header:{base:"flex items-center justify-between gap-2"},body:{base:"overflow-auto text-sm"}}},{header:a(()=>[e[5]||(e[5]=i("h4",{class:"font-mono font-bold",textContent:"Metadata"},null,-1)),s(r,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",square:"",padded:"",onClick:e[0]||(e[0]=b=>_.value=!1)})]),default:a(()=>[i("pre",{textContent:S(n(p))},null,8,Y)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ne as default};
//# sourceMappingURL=CFWwF0RA.js.map
