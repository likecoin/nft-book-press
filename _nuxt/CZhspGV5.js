import{cJ as me,cn as Y,cp as A,aQ as K,a_ as X,aS as u,aT as s,aU as p,br as m,bE as he,f8 as ke,ct as C,bI as r,cs as f,aY as J,aV as w,cx as Z,cy as U,b9 as g,cE as ve,cF as Se,bi as O,bj as z,aW as F,b3 as R,bO as x,e0 as G,bg as _,bD as ee,f9 as H,cz as N,cH as E,cg as j,cD as Ce}from"./C7XQIrPM.js";import{u as we}from"./D_LCcsEc.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="821cc621-34b7-4c84-98e2-a6ceb6f49174",e._sentryDebugIdIdentifier="sentry-dbid-821cc621-34b7-4c84-98e2-a6ceb6f49174")}catch{}})();const $e=me,Be={wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",caption:"sr-only",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",expanded:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},expand:{icon:"transform transition-transform duration-200"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},expandButton:{icon:"i-heroicons-chevron-down",color:"gray",variant:"ghost",size:"xs",class:"-my-1.5 align-middle"},checkbox:{color:"primary"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}},Ve={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},Q=Y(A.ui.strategy,A.ui.checkbox,Ve),Ae=X({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>Q.default.color,validator(e){return A.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:d,attrs:v}=Z("checkbox",U(e,"ui"),Q,U(e,"class")),{emitFormChange:B,color:h,name:l,inputId:y}=we(e),V=y.value??$e(),$=g({get(){return e.modelValue},set(i){o("update:modelValue",i)}}),t=i=>{o("change",i.target.checked),B()},b=g(()=>ve(Se(d.value.base,d.value.form,d.value.rounded,d.value.background,d.value.border,h.value&&d.value.ring.replaceAll("{color}",h.value),h.value&&d.value.color.replaceAll("{color}",h.value)),e.inputClass));return{ui:d,attrs:v,toggle:$,inputId:V,name:l,inputClass:b,onChange:t}}}),Ie=["data-n-ids"],De=["id","name","required","value","disabled","indeterminate"],Oe=["for"];function Re(e,o,d,v,B,h){return s(),u("div",{class:r(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[p("div",{class:r(e.ui.container)},[he(p("input",C({id:e.inputId,"onUpdate:modelValue":o[0]||(o[0]=l=>e.toggle=l),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:o[1]||(o[1]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,De),[[ke,e.toggle]])],2),e.label||e.$slots.label?(s(),u("div",{key:0,class:r(e.ui.inner)},[p("label",{for:e.inputId,class:r(e.ui.label)},[f(e.$slots,"label",{label:e.label},()=>[J(w(e.label),1)]),e.required?(s(),u("span",{key:0,class:r(e.ui.required)},"*",2)):m("",!0)],10,Oe),e.help||e.$slots.help?(s(),u("p",{key:0,class:r(e.ui.help)},[f(e.$slots,"help",{help:e.help},()=>[J(w(e.help),1)])],2)):m("",!0)],2)):m("",!0)],10,Ie)}const te=K(Ae,[["render",Re]]);function je(e){return e?e[0].toUpperCase()+e.slice(1):""}const k=Y(A.ui.strategy,A.ui.table,Be);function Ee(e,o){return Ce(e,o)}function M(e,o,d){return e===o?0:d==="asc"?e<o?-1:1:e>o?-1:1}function W(e){return new Set(e.map(o=>JSON.stringify(o)))}function Ue(e){return o=>E(o,e)}const qe=X({components:{UIcon:ee,UButton:_,UProgress:x,UCheckbox:te},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>Ee},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>k.default.sortButton},sortAscIcon:{type:String,default:()=>k.default.sortAscIcon},sortDescIcon:{type:String,default:()=>k.default.sortDescIcon},expandButton:{type:Object,default:()=>k.default.expandButton},expand:{type:Object,default:()=>null},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>k.default.loadingState},emptyState:{type:Object,default:()=>k.default.emptyState},caption:{type:String,default:null},progress:{type:Object,default:()=>k.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},multipleExpand:{type:Boolean,default:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue","update:sort","update:expand","select:all"],setup(e,{emit:o,attrs:d}){const{ui:v,attrs:B}=Z("table",U(e,"ui"),k,U(e,"class")),h=g(()=>{const a=e.columns??Object.keys(e.rows[0]).map(c=>({key:c,label:je(c),sortable:!1,class:void 0,sort:M}));return a.find(c=>c.key==="select")||!e.modelValue?a:[{key:"select",sortable:!1,class:void 0,sort:M},...a]}),l=H(e,"sort",o,{passive:!0,defaultValue:N({},e.sort,{column:null,direction:"asc"})}),y=H(e,"expand",o,{passive:!0,defaultValue:N({},e.expand,{openedRows:[],row:null})}),V={column:l.value.column,direction:null},$=g(()=>{var c;if(!((c=l.value)!=null&&c.column)||e.sortMode==="manual")return e.rows;const{column:a,direction:n}=l.value;return e.rows.slice().sort((pe,fe)=>{var T;const ge=E(pe,a),ye=E(fe,a);return(((T=h.value.find(be=>be.key===a))==null?void 0:T.sort)??M)(ge,ye,n)})}),t=g({get(){return e.modelValue},set(a){o("update:modelValue",a)}}),b=g(()=>e.rows.length),i=g(()=>{const a=W(t.value),n=W(e.rows);return Array.from(a).filter(c=>n.has(c)).length}),q=g(()=>!t.value||!e.rows?!1:i.value>0&&i.value<b.value),I=g(()=>i.value===b.value),S=g(()=>e.emptyState===null?null:{...v.value.default.emptyState,...e.emptyState}),ae=g(()=>e.loadingState===null?null:{...v.value.default.loadingState,...e.loadingState});function D(a,n){if(typeof e.by=="string"){const c=Ue(e.by);return c(a)===c(n)}return e.by(a,n)}function P(a){return e.modelValue?t.value.some(n=>D(j(n),j(a))):!1}function ne(a){if(l.value.column===a.key){const n=!a.direction||a.direction==="asc"?"desc":"asc";l.value.direction===n?l.value=N({},V,{column:null,direction:"asc"}):l.value={column:l.value.column,direction:l.value.direction==="asc"?"desc":"asc"}}else l.value={column:a.key,direction:a.direction||"asc"}}function oe(a){const n=window.getSelection();n&&n.toString().length>0||d.onSelect&&d.onSelect(a)}function le(a,n){d.onContextmenu&&d.onContextmenu(a,n)}function se(){const a=[...t.value];e.rows.forEach(n=>{P(n)||a.push(n)}),t.value=a}function re(a){a?se():t.value=[],o("select:all",a)}function ie(a,n){a?t.value=e.singleSelect?[n]:[...t.value,n]:t.value=t.value.filter(c=>!D(j(c),j(n)))}function ue(a,n,c=""){return E(a,n,c)}function L(a){var n;return(n=y.value)!=null&&n.openedRows?y.value.openedRows.some(c=>D(c,a)):!1}function de(a){y.value={openedRows:L(a)?y.value.openedRows.filter(n=>!D(n,a)):e.multipleExpand?[...y.value.openedRows,a]:[a],row:a}}function ce(a){if(a.sortable){if(l.value.column!==a.key)return"none";if(l.value.direction==="asc")return"ascending";if(l.value.direction==="desc")return"descending"}}return{ui:v,attrs:B,sort:l,columns:h,rows:$,selected:t,indeterminate:q,emptyState:S,loadingState:ae,isAllRowChecked:I,onChangeCheckbox:ie,isSelected:P,onSort:ne,onSelect:oe,onContextmenu:le,onChange:re,getRowData:ue,toggleOpened:de,getAriaSort:ce,isExpanded:L}}}),ze=["aria-sort"],Fe={key:1},Ne={key:0},Me={key:0},Je=["colspan"],Pe={key:1},Le=["colspan"],Te=["onClick","onContextmenu"],Ge={key:0},He={colspan:"100%"};function Qe(e,o,d,v,B,h){const l=te,y=_,V=x,$=ee;return s(),u("div",C({class:e.ui.wrapper},e.attrs),[p("table",{class:r([e.ui.base,e.ui.divide])},[e.$slots.caption||e.caption?f(e.$slots,"caption",{key:0},()=>[p("caption",{class:r(e.ui.caption)},w(e.caption),3)]):m("",!0),p("thead",{class:r(e.ui.thead)},[p("tr",{class:r(e.ui.tr.base)},[e.expand?(s(),u("th",{key:0,scope:"col",class:r(e.ui.tr.base)},o[0]||(o[0]=[p("span",{class:"sr-only"},"Expand",-1)]),2)):m("",!0),(s(!0),u(O,null,z(e.columns,(t,b)=>(s(),u("th",{key:b,scope:"col",class:r([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,t.key==="select"&&e.ui.checkbox.padding,t.class]),"aria-sort":e.getAriaSort(t)},[!e.singleSelect&&e.modelValue&&t.key==="select"?f(e.$slots,"select-header",{key:0,indeterminate:e.indeterminate,checked:e.isAllRowChecked,change:e.onChange},()=>[F(l,C({"model-value":e.isAllRowChecked,indeterminate:e.indeterminate},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select all",onChange:e.onChange}),null,16,["model-value","indeterminate","onChange"])]):f(e.$slots,`${t.key}-header`,{key:1,column:t,sort:e.sort,onSort:e.onSort},()=>[t.sortable?(s(),R(y,C({key:0,ref_for:!0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:!e.sort.column||e.sort.column!==t.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:t[e.columnAttribute],onClick:i=>e.onSort(t)}),null,16,["icon","label","onClick"])):(s(),u("span",Fe,w(t[e.columnAttribute]),1))])],10,ze))),128))],2),e.loading&&e.progress?(s(),u("tr",Ne,[p("td",{colspan:0,class:r(e.ui.progress.wrapper)},[F(V,C({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,16)],2)])):m("",!0)],2),p("tbody",{class:r(e.ui.tbody)},[e.loadingState&&e.loading&&!e.rows.length?(s(),u("tr",Me,[p("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[f(e.$slots,"loading-state",{},()=>[p("div",{class:r(e.ui.loadingState.wrapper)},[e.loadingState.icon?(s(),R($,{key:0,name:e.loadingState.icon,class:r(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):m("",!0),p("p",{class:r(e.ui.loadingState.label)},w(e.loadingState.label),3)],2)])],8,Je)])):e.emptyState&&!e.rows.length?(s(),u("tr",Pe,[p("td",{colspan:e.columns.length+(e.modelValue?1:0)+(e.expand?1:0)},[f(e.$slots,"empty-state",{},()=>[p("div",{class:r(e.ui.emptyState.wrapper)},[e.emptyState.icon?(s(),R($,{key:0,name:e.emptyState.icon,class:r(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):m("",!0),p("p",{class:r(e.ui.emptyState.label)},w(e.emptyState.label),3)],2)])],8,Le)])):(s(!0),u(O,{key:2},z(e.rows,(t,b)=>(s(),u(O,{key:b},[p("tr",{class:r([e.ui.tr.base,e.isSelected(t)&&e.ui.tr.selected,e.isExpanded(t)&&e.ui.tr.expanded,e.$attrs.onSelect&&e.ui.tr.active,t==null?void 0:t.class]),onClick:()=>e.onSelect(t),onContextmenu:i=>e.onContextmenu(i,t)},[e.expand?(s(),u("td",{key:0,class:r([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[e.$slots["expand-action"]?f(e.$slots,"expand-action",{key:0,row:t,isExpanded:e.isExpanded(t),toggle:()=>e.toggleOpened(t)}):(s(),R(y,C({key:1,disabled:t.disabledExpand},{ref_for:!0},{...e.ui.default.expandButton||{},...e.expandButton},{ui:{icon:{base:[e.ui.expand.icon,e.isExpanded(t)&&"rotate-180"].join(" ")}},onClickCapture:G(i=>e.toggleOpened(t),["stop"])}),null,16,["disabled","ui","onClickCapture"]))],2)):m("",!0),(s(!0),u(O,null,z(e.columns,(i,q)=>{var I;return s(),u("td",{key:q,class:r([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,i==null?void 0:i.rowClass,(I=t[i.key])==null?void 0:I.class,i.key==="select"&&e.ui.checkbox.padding])},[e.modelValue&&i.key==="select"?(s(),u("span",{key:0,onClickCapture:G(()=>{},["stop"])},[f(e.$slots,"select-data",{checked:e.isSelected(t),change:S=>e.onChangeCheckbox(S,t)},()=>[F(l,C({"model-value":e.isSelected(t)},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select row",onChange:S=>e.onChangeCheckbox(S,t)}),null,16,["model-value","onChange"])])],32)):f(e.$slots,`${i.key}-data`,{key:1,column:i,row:t,index:b,getRowData:S=>e.getRowData(t,i.key,S)},()=>[J(w(e.getRowData(t,i.key)),1)])],2)}),128))],42,Te),e.isExpanded(t)?(s(),u("tr",Ge,[p("td",He,[f(e.$slots,"expand",{row:t,index:b})])])):m("",!0)],64))),128))],2)],2)],16)}const Xe=K(qe,[["render",Qe]]);export{Xe as _,te as a};
