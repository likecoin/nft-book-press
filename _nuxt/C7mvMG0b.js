import{a_ as w,b7 as R,b0 as S,bz as A,b8 as C,b9 as b,bb as B,b1 as I,b2 as U,b3 as i,aT as l,aX as t,be as T,b4 as a,bA as D,aW as s,aY as y,bg as P,aU as m,bj as $,bq as L}from"./CdYtZq0D.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new n.Error().stack;r&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[r]="ea102403-4cb7-42c4-9287-59422b0a26ee",n._sentryDebugIdIdentifier="sentry-dbid-ea102403-4cb7-42c4-9287-59422b0a26ee")}catch{}})();const V=w({__name:"return",setup(n){const{LIKE_CO_API:r}=R().public,d=S(),g=A(),{token:h}=C(g),c=b(""),u=b(!1),p=b(!1);return B(u,o=>{o&&(c.value="")}),I(async()=>{try{u.value=!0;const o=await $fetch(`${r}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${h.value}`}});p.value=o.isReady||!1,setTimeout(async()=>{await U(d({name:"settings"}),{replace:!0})},3e3)}catch(o){console.error(o),c.value=o.toString()}finally{u.value=!1}}),(o,e)=>{const f=P,_=D,k=$,x=L,v=T;return l(),i(v,{"model-value":!0},{default:t(()=>[a(u)?(l(),i(_,{key:0},{header:t(()=>[...e[0]||(e[0]=[m("h2",{class:"text-sm font-bold font-mono"}," Refreshing Stripe Connect Payout Account Status ",-1)])]),default:t(()=>[s(f,{animation:"carousel"},{indicator:t(()=>[...e[1]||(e[1]=[y(" Refreshing... ",-1)])]),_:1})]),_:1})):a(p)&&!a(c)?(l(),i(_,{key:1},{header:t(()=>[...e[2]||(e[2]=[m("h2",{class:"text-sm font-bold font-mono"}," Stripe Connect Account Status Refreshed ",-1)])]),default:t(()=>[s(f,{value:100},{indicator:t(()=>[...e[3]||(e[3]=[y(" Refreshed! Redirect back in 3 seconds... ",-1)])]),_:1})]),_:1})):(l(),i(_,{key:2,ui:{body:{base:"space-y-4"},footer:{base:"text-center"}}},{header:t(()=>[...e[4]||(e[4]=[m("h2",{class:"text-sm font-bold font-mono"}," An error occurred when refreshing the Stripe Connect Account Status ",-1)])]),footer:t(()=>[s(x,{label:"Go Back",to:a(d)({name:"settings"})},null,8,["to"])]),default:t(()=>[s(f,{value:100,color:"red"}),s(k,{icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:a(c)||"Unknown error"},null,8,["title"])]),_:1}))]),_:1})}}});export{V as default};
