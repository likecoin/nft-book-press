import{a_ as L,a$ as q,b9 as y,b8 as B,b3 as m,aT as p,bh as J,aX as s,aW as u,aS as G,b4 as n,bP as N,aU as h,bj as K,bt as W,bH as Q,bg as X,bi as ee,br as D,aV as C,bD as ne,aY as te,ba as P,bf as A,bs as oe,cs as ie}from"./BXDK4RbP.js";import{_ as ae,a as se}from"./CF17O8i8.js";import{_ as Y}from"./BJqIYAeC.js";import{_ as le}from"./BkeRDD7n.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="9998ac3a-4395-4e66-b115-ea73ff9f742b",e._sentryDebugIdIdentifier="sentry-dbid-9998ac3a-4395-4e66-b115-ea73ff9f742b")}catch{}})();let T;const pe=new Uint8Array(16);function de(){if(!T&&(T=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!T))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(pe)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function ce(e,o=0){return a[e[o+0]]+a[e[o+1]]+a[e[o+2]]+a[e[o+3]]+"-"+a[e[o+4]]+a[e[o+5]]+"-"+a[e[o+6]]+a[e[o+7]]+"-"+a[e[o+8]]+a[e[o+9]]+"-"+a[e[o+10]]+a[e[o+11]]+a[e[o+12]]+a[e[o+13]]+a[e[o+14]]+a[e[o+15]]}const ue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F={randomUUID:ue};function H(e,o,t){if(F.randomUUID&&!e)return F.randomUUID();e=e||{};const i=e.random||(e.rng||de)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,ce(i)}const re={class:"flex justify-between items-center"},_e={class:"flex justify-center"},he={key:1,class:"flex justify-center items-center w-full gap-[8px] py-[36px]"},me={class:"flex justify-end items-center"},ge={key:1,class:"flex justify-end items-center"},fe=L({__name:"InfoModal",props:{modelValue:{type:Boolean},readOnly:{type:Boolean,default:!1},shippingInfo:{type:Array,default:()=>[]}},emits:["update:modelValue","update-shipping-rates"],setup(e,{emit:o}){const{t}=q(),i=e,M=o,r=y(()=>!R.value),b=y(()=>R.value),E=y(()=>r.value?t("shipping_rates.editing_shipping_options"):t("shipping_rates.shipping_options_info")),_=B(i.shippingInfo.length?i.shippingInfo.map(d=>{var I,c;return{price:d.priceInDecimal/100,nameEn:(I=d.name)==null?void 0:I.en,nameZh:(c=d.name)==null?void 0:c.zh}}):[]),S=y(()=>_.value.length>1),R=B(i.readOnly);function V(){M("update:modelValue",!1)}function Z(){R.value=!1}function x(d,I,c){var v;_.value[c][I]=(v=d.target)==null?void 0:v.value}function $(){if(!_.value.length){_.value.push({index:H(),price:10,nameEn:"Standard Shipping",nameZh:"標準寄送"});return}_.value.push({index:H(),price:20,nameEn:"International Shipping",nameZh:"國際寄送"})}function g(d){_.value.splice(d,1)}function f(){M("update-shipping-rates",_.value.map(d=>({name:{en:d.nameEn,zh:d.nameZh},priceInDecimal:Math.round(Number(d.price)*100)}))),V()}return(d,I)=>{const c=X,v=le,j=Y,O=W,z=ne,l=J;return p(),m(l,{"model-value":e.modelValue},{default:s(()=>[u(O,{ui:{header:{base:"font-bold font-mono"}}},{header:s(()=>[h("div",re,[te(C(n(E))+" ",1),u(c,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:V})])]),footer:s(()=>[h("div",me,[n(r)?(p(),m(c,{key:0,label:n(t)("shipping_rates.save"),onClick:f},null,8,["label"])):(p(),G("div",ge,[u(c,{label:n(t)("shipping_rates.set_shipping_options"),variant:"outline",onClick:Z},{trailing:s(()=>[u(z,{name:"i-heroicons-arrow-right-20-solid"})]),_:1},8,["label"])]))])]),default:s(()=>[n(_).length?(p(),m(N(n(S)?"ul":"div"),{key:0,class:"space-y-4"},{default:s(()=>[(p(!0),G(ee,null,K(n(_),(k,w)=>(p(),m(N(n(S)?"li":"div"),{key:k.index},{default:s(()=>[u(O,{ui:{body:{base:"space-y-4"},footer:{base:"flex justify-end items-center"}}},Q({default:s(()=>[u(j,{label:n(t)("shipping_rates.name_of_option"),ui:{container:"space-y-2"}},{default:s(()=>[u(v,{value:k.nameEn,placeholder:n(t)("shipping_rates.shipping_option_name"),disabled:n(b),onInput:U=>x(U,"nameEn",w)},null,8,["value","placeholder","disabled","onInput"]),u(v,{placeholder:n(t)("shipping_rates.shipping_option_name_zh"),value:k.nameZh,disabled:n(b),onInput:U=>x(U,"nameZh",w)},null,8,["placeholder","value","disabled","onInput"])]),_:2},1032,["label"]),u(j,{label:n(t)("shipping_rates.price_usd_of_option")},{default:s(()=>[u(v,{value:k.price,type:"number",step:"0.01",min:0,disabled:n(b),onInput:U=>x(U,"price",w)},null,8,["value","disabled","onInput"])]),_:2},1032,["label"])]),_:2},[n(S)&&n(r)?{name:"footer",fn:s(()=>[u(c,{label:n(t)("shipping_rates.delete"),variant:"outline",color:"red",onClick:U=>g(w)},null,8,["label","onClick"])]),key:"0"}:void 0]),1024)]),_:2},1024))),128)),h("div",_e,[n(r)?(p(),m(c,{key:0,label:n(t)("shipping_rates.add_options"),variant:"outline",icon:"i-heroicons-plus-20-solid",onClick:$},null,8,["label"])):D("",!0)])]),_:1})):(p(),G("div",he,[h("span",null,C(n(t)("shipping_rates.no_items")),1),n(r)?(p(),m(c,{key:0,label:n(t)("shipping_rates.add_options"),variant:"outline",icon:"i-heroicons-plus-20-solid",onClick:$},null,8,["label"])):D("",!0)]))]),_:1})]),_:1},8,["model-value"])}}}),be={class:"flex flex-row justify-between items-center"},ye={class:"flex justify-start items-center gap-[8px]"},ve={class:"font-bold font-mono"},xe={class:"flex flex-col gap-[8px] items-start"},Ie={class:"text-center"},ke={class:"text-center"},we={class:"text-center"},Se={key:1,class:"px-[24px] py-[12px]"},Ve={class:"flex flex-col gap-[16px]"},Be=L({__name:"RateTable",props:{isLoading:{type:Boolean,default:!1},isShowPhysicalGoodsCheckbox:{type:Boolean,default:!1},shippingInfo:{type:Array,default:()=>[]},modelValue:{type:Boolean},isShowSettingModalButton:{type:Boolean,default:!1}},emits:["update:modelValue","update-shipping-rates"],setup(e,{emit:o}){const{t}=q(),i=e,M=o,r=B(!1),b=B(i.modelValue),E=B(i.isShowPhysicalGoodsCheckbox);P(()=>i.modelValue,g=>{b.value=g}),P(b,g=>{M("update:modelValue",g)});const _=y(()=>!i.isShowPhysicalGoodsCheckbox),S=y(()=>i.isShowPhysicalGoodsCheckbox),R=y(()=>!!(S.value&&i.isShowSettingModalButton)),V=y(()=>{if(_.value)return i.shippingInfo.length?{icon:"i-heroicons-pencil-square",text:t("shipping_rates.edit"),action:x}:{icon:"i-heroicons-plus-20-solid",text:t("shipping_rates.add"),action:x};if(S.value)return i.shippingInfo.length?{icon:"i-heroicons-eye-20-solid",text:t("shipping_rates.view_current_options"),action:x}:{icon:"i-heroicons-plus-20-solid",text:t("shipping_rates.add_shipping_options"),action:$}}),Z=y(()=>i.shippingInfo.length?i.shippingInfo.map((g,f)=>({index:f+1,name:g.name,price:g.priceInDecimal/100})):[]);function x(){r.value=!0}function $(){E.value=!1,r.value=!0}return(g,f)=>{const d=X,I=ae,c=se,v=oe,j=Y,O=fe,z=W;return p(),m(z,{ui:{body:{padding:""}}},{header:s(()=>{var l,k,w;return[h("div",be,[h("div",ye,[h("h3",ve,C(n(t)("form.shipping_options")),1),ie(g.$slots,"header")]),n(R)?D("",!0):(p(),m(d,{key:0,icon:(l=n(V))==null?void 0:l.icon,label:(k=n(V))==null?void 0:k.text,loading:e.isLoading,onClick:(w=n(V))==null?void 0:w.action},null,8,["icon","label","loading","onClick"]))])]}),default:s(()=>[n(_)?(p(),m(I,{key:0,columns:[{key:"index"},{key:"name",label:n(t)("shipping_rates.name")},{key:"price",label:n(t)("shipping_rates.price_usd")}],rows:n(Z)},{"name-data":s(({row:l})=>[h("div",xe,[h("span",Ie,"en: "+C(l.name.en),1),h("span",ke,"zh: "+C(l.name.zh),1)])]),"price-data":s(({row:l})=>[h("span",we,C(l.price),1)]),_:1},8,["columns","rows"])):(p(),G("div",Se,[u(j,{label:n(t)("shipping_rates.physical_goods"),ui:{label:{base:"font-mono font-bold"}}},{default:s(()=>[h("div",Ve,[u(c,{modelValue:n(b),"onUpdate:modelValue":f[0]||(f[0]=l=>A(b)?b.value=l:null),name:"hasShipping",label:n(t)("shipping_rates.includes_physical_good"),disabled:!e.shippingInfo.length},null,8,["modelValue","label","disabled"]),e.shippingInfo.length?D("",!0):(p(),m(v,{key:0,icon:"i-heroicons-face-frown-solid",color:"yellow",variant:"solid",title:n(t)("shipping_rates.enable_in_advanced_settings")},null,8,["title"]))])]),_:1},8,["label"])])),n(r)?(p(),m(O,{key:2,modelValue:n(r),"onUpdate:modelValue":f[1]||(f[1]=l=>A(r)?r.value=l:null),"read-only":n(E),"shipping-info":e.shippingInfo,onUpdateShippingRates:f[2]||(f[2]=l=>M("update-shipping-rates",l))},null,8,["modelValue","read-only","shipping-info"])):D("",!0)]),_:3})}}});export{Be as _,H as v};
