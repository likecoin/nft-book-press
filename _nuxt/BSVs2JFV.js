import{e4 as f,b7 as d,bw as b,b8 as p,b9 as y,ba as l}from"./Bpv-nJtS.js";(function(){try{var o=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new o.Error().stack;a&&(o._sentryDebugIds=o._sentryDebugIds||{},o._sentryDebugIds[a]="60c7acf0-c528-4280-ac28-9612bb0e6707",o._sentryDebugIdIdentifier="sentry-dbid-60c7acf0-c528-4280-ac28-9612bb0e6707")}catch{}})();function c(){return{isReady:!1,hasAccount:!1,email:"",stripeConnectAccountId:""}}const v=f("stripe-connect",()=>{const{LIKE_CO_API:o}=d().public,a=b(),{token:s}=p(a),n=y({}),i=l(()=>e=>n.value[e]||c());async function r(e){n.value[e]||(n.value[e]=c());const t=await $fetch(`${o}/likernft/book/user/connect/status`,{headers:{authorization:`Bearer ${s.value}`},query:{wallet:e}});return t?(n.value[e]=t,t):n.value[e]}async function u(e){await r(e);const t=n.value[e];return t!=null&&t.hasAccount&&!(t!=null&&t.isReady)&&(await $fetch(`${o}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${s.value}`}})).isReady&&(n.value[e]={...t,isReady:!0}),n.value[e]}return{stripeConnectStatusWalletMap:n,getStripeConnectStatusByWallet:i,fetchStripeConnectStatusByWallet:r,refreshStripeConnectStatus:u}});export{v as u};
