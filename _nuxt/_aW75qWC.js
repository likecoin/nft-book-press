import{a_ as L,a$ as M,b7 as A,bw as j,b8 as q,bj as O,b9 as b,ba as x,bb as P,b1 as E,b3 as I,aX as o,cq as T,cr as D,aT as $,aU as m,bi as W,aW as l,aV as u,b4 as e,bf as z,aY as J,bA as K,bq as X,bg as Y,bd as F}from"./i2g2lvRV.js";import{_ as G}from"./nVxR0ReZ.js";import{_ as H}from"./D6dPTMm6.js";import"./DOwP1tK0.js";import"./vxqXeKSX.js";(function(){try{var c=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new c.Error().stack;t&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[t]="99f9aa1d-b702-40e9-a6f9-8fa1816dd942",c._sentryDebugIdIdentifier="sentry-dbid-99f9aa1d-b702-40e9-a6f9-8fa1816dd942")}catch{}})();const Q={class:"flex justify-between gap-4"},Z={class:"text-lg font-bold font-mono flex-wrap"},ee={class:"font-bold font-mono"},te={class:"text-sm font-bold font-mono"},ae=["textContent"],oe=["textContent"],de=L({__name:"[payoutId]",setup(c){const{t}=M(),{LIKE_CO_API:w}=A().public,V=j(),{token:B}=q(V),S=O(),_=b({}),h=b([]),U=b(""),d=b(!1),C=b(S.params.payoutId),p=b(""),y=x({get:()=>!!p.value,set:a=>{a||(p.value="")}});P(d,a=>{a&&(U.value="")});const N=x(()=>{if(!_.value)return[];const{id:a,createdTs:s,amount:f,status:i,currency:n,arrivalTs:r}=_.value;return[{id:a,createdTs:new Date(s*1e3).toLocaleString(),amount:D(f,n),status:i,currency:T(n),arrivalTs:r?new Date(r*1e3).toLocaleString():""}]}),R=x(()=>h.value.map(a=>{const{commissionId:s,createdTs:f,amount:i,currency:n,description:r,status:v,metadata:k}=a;return{commissionId:s,createdTs:new Date(f*1e3).toLocaleString(),amount:D(i,n),currency:T(n),description:r,status:v,metadata:JSON.stringify(k,null,2)}}));return E(async()=>{try{d.value=!0;const a=await $fetch(`${w}/likernft/book/user/payouts/${C.value}`,{headers:{authorization:`Bearer ${B.value}`}});_.value=a,_.value.items&&(h.value=_.value.items)}finally{d.value=!1}}),(a,s)=>{const f=z,i=G,n=K,r=X,v=Y,k=H;return $(),I(k,{class:"space-y-10 pb-10"},{default:o(()=>[m("div",Q,[m("h1",Z,u(e(t)("user_settings.payout_details"))+" - "+u(e(C)),1)]),e(d)?($(),I(f,{key:0,animation:"carousel"},{indicator:o(()=>[J(u(e(t)("loading.progress")),1)]),_:1})):W("",!0),l(n,{ui:{body:{padding:""}}},{header:o(()=>[m("h3",ee,u(e(t)("user_settings.payout_details")),1)]),default:o(()=>[l(i,{columns:[{key:"id",label:e(t)("table.id")},{key:"createdTs",label:e(t)("table.created")},{key:"currency",label:e(t)("table.currency")},{key:"amount",label:e(t)("table.payout_amount")},{key:"status",label:e(t)("table.status")},{key:"arrivalTs",label:e(t)("table.arrived")}],rows:e(N),loading:e(d),ui:{th:{base:"text-center"},td:{base:"text-center"}}},null,8,["columns","rows","loading"])]),_:1}),l(n,{ui:{body:{padding:""}}},{header:o(()=>[m("h3",te,u(e(t)("user_settings.payout_details")),1)]),default:o(()=>[l(i,{columns:[{key:"commissionId",label:e(t)("table.id")},{key:"createdTs",label:e(t)("table.created")},{key:"currency",label:e(t)("table.currency")},{key:"amount",label:e(t)("table.commission_amount")},{key:"description",label:e(t)("common.description")},{key:"status",label:e(t)("table.status")},{key:"metadata",label:e(t)("table.metadata")}],rows:e(R),loading:e(d),ui:{th:{base:"text-center"},td:{base:"text-center"}}},{"metadata-data":o(({row:g})=>[l(r,{label:e(t)("buttons.view_edit"),color:"gray",onClick:ne=>p.value=g.metadata},null,8,["label","onClick"])]),_:1},8,["columns","rows","loading"])]),_:1}),l(v,{modelValue:e(y),"onUpdate:modelValue":s[1]||(s[1]=g=>F(y)?y.value=g:null)},{default:o(()=>[l(n,{ui:{header:{base:"flex items-center justify-between gap-2"},body:{base:"overflow-auto text-sm"}}},{header:o(()=>[m("h4",{class:"font-mono font-bold",textContent:u(e(t)("table.metadata"))},null,8,ae),l(r,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",square:"",padded:"",onClick:s[0]||(s[0]=g=>y.value=!1)})]),default:o(()=>[m("pre",{textContent:u(e(p))},null,8,oe)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{de as default};
