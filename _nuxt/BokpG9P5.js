import{n as S,T as w,M as R,v as A,s as B,r as _,h as C,z as I,o as u,B as i,w as o,L as U,F as d,a as m,b as s,d as y,a3 as D,Q as T,Z as P,K as L}from"./CQCxTdTH.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[r]="6862efc7-ba03-4b94-ab51-6dc43ef5e190",n._sentryDebugIdIdentifier="sentry-dbid-6862efc7-ba03-4b94-ab51-6dc43ef5e190")}catch{}})();const N=S({__name:"return",setup(n){const{LIKE_CO_API:r}=w().public,p=R(),k=A(),{token:h}=B(k),a=_(""),c=_(!1),b=_(!1);return C(c,t=>{t&&(a.value="")}),I(async()=>{try{c.value=!0;const t=await $fetch(`${r}/likernft/book/user/connect/refresh`,{method:"POST",headers:{authorization:`Bearer ${h.value}`}});b.value=t.isReady||!1,setTimeout(()=>{p.replace({name:"nft-book-store-user"})},3e3)}catch(t){console.error(t),a.value=t.toString()}finally{c.value=!1}}),(t,e)=>{const l=D,f=T,g=P,x=L,v=U;return u(),i(v,{"model-value":!0},{default:o(()=>[d(c)?(u(),i(f,{key:0},{header:o(()=>e[0]||(e[0]=[m("h2",{class:"text-sm font-bold font-mono"}," Refreshing Stripe Connect Payout Account Status ",-1)])),default:o(()=>[s(l,{animation:"carousel"},{indicator:o(()=>e[1]||(e[1]=[y(" Refreshing... ")])),_:1})]),_:1})):d(b)&&!d(a)?(u(),i(f,{key:1},{header:o(()=>e[2]||(e[2]=[m("h2",{class:"text-sm font-bold font-mono"}," Stripe Connect Account Status Refreshed ",-1)])),default:o(()=>[s(l,{value:100},{indicator:o(()=>e[3]||(e[3]=[y(" Refreshed! Redirect back in 3 seconds... ")])),_:1})]),_:1})):(u(),i(f,{key:2,ui:{body:{base:"space-y-4"},footer:{base:"text-center"}}},{header:o(()=>e[4]||(e[4]=[m("h2",{class:"text-sm font-bold font-mono"}," An error occurred when refreshing the Stripe Connect Account Status ",-1)])),footer:o(()=>[s(x,{label:"Go Back",to:{name:"nft-book-store-user"}})]),default:o(()=>[s(l,{value:100,color:"red"}),s(g,{icon:"i-heroicons-exclamation-triangle",color:"red",variant:"soft",title:d(a)||"Unknown error"},null,8,["title"])]),_:1}))]),_:1})}}});export{N as default};
//# sourceMappingURL=BokpG9P5.js.map
