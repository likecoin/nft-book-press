import{a_ as L,b9 as v,b8 as M,b3 as _,aT as s,bh as W,aX as a,aW as c,aS as $,b4 as t,bQ as G,aU as h,bj as X,bt as q,bI as Y,bg as H,bi as J,br as R,bE as K,aY as ee,aV as A,ba as T,bf as Z,bs as ne,ct as te}from"./CfseOdbi.js";import{_ as oe,a as ie}from"./Vz5hS-_V.js";import{_ as Q}from"./Cs0rOM-S.js";import{_ as ae}from"./-gN7atBo.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new e.Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="eacbb82d-64ef-4db1-9c9e-403d2e01ad0d",e._sentryDebugIdIdentifier="sentry-dbid-eacbb82d-64ef-4db1-9c9e-403d2e01ad0d")}catch{}})();let j;const le=new Uint8Array(16);function se(){if(!j&&(j=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!j))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j(le)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function de(e,n=0){return o[e[n+0]]+o[e[n+1]]+o[e[n+2]]+o[e[n+3]]+"-"+o[e[n+4]]+o[e[n+5]]+"-"+o[e[n+6]]+o[e[n+7]]+"-"+o[e[n+8]]+o[e[n+9]]+"-"+o[e[n+10]]+o[e[n+11]]+o[e[n+12]]+o[e[n+13]]+o[e[n+14]]+o[e[n+15]]}const pe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z={randomUUID:pe};function F(e,n,i){if(z.randomUUID&&!e)return z.randomUUID();e=e||{};const f=e.random||(e.rng||se)();return f[6]=f[6]&15|64,f[8]=f[8]&63|128,de(f)}const ce={class:"flex justify-between items-center"},ue={class:"flex justify-center"},re={key:1,class:"flex justify-center items-center w-full gap-[8px] py-[36px]"},me={class:"flex justify-end items-center"},he={key:1,class:"flex justify-end items-center"},fe=L({__name:"InfoModal",props:{modelValue:{type:Boolean},readOnly:{type:Boolean,default:!1},shippingInfo:{type:Array,default:()=>[]}},emits:["update:modelValue","update-shipping-rates"],setup(e,{emit:n}){const i=e,f=n,u=v(()=>!C.value),y=v(()=>C.value),D=v(()=>u.value?"Editing Shipping Options":"Shipping Options Info"),r=M(i.shippingInfo.length?i.shippingInfo.map(d=>{var b,p;return{price:d.priceInDecimal/100,nameEn:(b=d.name)==null?void 0:b.en,nameZh:(p=d.name)==null?void 0:p.zh}}):[]),w=v(()=>r.value.length>1),C=M(i.readOnly);function U(){f("update:modelValue",!1)}function N(){C.value=!1}function S(d,b,p){var x;r.value[p][b]=(x=d.target)==null?void 0:x.value}function O(){if(!r.value.length){r.value.push({index:F(),price:10,nameEn:"Standard Shipping",nameZh:"標準寄送"});return}r.value.push({index:F(),price:20,nameEn:"International Shipping",nameZh:"國際寄送"})}function g(d){r.value.splice(d,1)}function m(){f("update-shipping-rates",r.value.map(d=>({name:{en:d.nameEn,zh:d.nameZh},priceInDecimal:Math.round(Number(d.price)*100)}))),U()}return(d,b)=>{const p=H,x=ae,B=Q,E=q,P=K,l=W;return s(),_(l,{"model-value":e.modelValue},{default:a(()=>[c(E,{ui:{header:{base:"font-bold font-mono"}}},{header:a(()=>[h("div",ce,[ee(A(t(D))+" ",1),c(p,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",onClick:U})])]),footer:a(()=>[h("div",me,[t(u)?(s(),_(p,{key:0,label:"Save",onClick:m})):(s(),$("div",he,[c(p,{label:"Set Shipping Options",variant:"outline",onClick:N},{trailing:a(()=>[c(P,{name:"i-heroicons-arrow-right-20-solid"})]),_:1})]))])]),default:a(()=>[t(r).length?(s(),_(G(t(w)?"ul":"div"),{key:0,class:"space-y-4"},{default:a(()=>[(s(!0),$(J,null,X(t(r),(I,k)=>(s(),_(G(t(w)?"li":"div"),{key:I.index},{default:a(()=>[c(E,{ui:{body:{base:"space-y-4"},footer:{base:"flex justify-end items-center"}}},Y({default:a(()=>[c(B,{label:"Name of this shipping option",ui:{container:"space-y-2"}},{default:a(()=>[c(x,{value:I.nameEn,placeholder:"Shipping option name",disabled:t(y),onInput:V=>S(V,"nameEn",k)},null,8,["value","disabled","onInput"]),c(x,{placeholder:"運送選項名稱",value:I.nameZh,disabled:t(y),onInput:V=>S(V,"nameZh",k)},null,8,["value","disabled","onInput"])]),_:2},1024),c(B,{label:"Price(USD) of this shipping option"},{default:a(()=>[c(x,{value:I.price,type:"number",step:"0.01",min:0,disabled:t(y),onInput:V=>S(V,"price",k)},null,8,["value","disabled","onInput"])]),_:2},1024)]),_:2},[t(w)&&t(u)?{name:"footer",fn:a(()=>[c(p,{label:"Delete",variant:"outline",color:"red",onClick:V=>g(k)},null,8,["onClick"])]),key:"0"}:void 0]),1024)]),_:2},1024))),128)),h("div",ue,[t(u)?(s(),_(p,{key:0,label:"Add Options",variant:"outline",icon:"i-heroicons-plus-20-solid",onClick:O})):R("",!0)])]),_:1})):(s(),$("div",re,[b[0]||(b[0]=h("span",null," No items ",-1)),t(u)?(s(),_(p,{key:0,label:"Add Options",variant:"outline",icon:"i-heroicons-plus-20-solid",onClick:O})):R("",!0)]))]),_:1})]),_:1},8,["model-value"])}}}),_e={class:"flex flex-row justify-between items-center"},ge={class:"flex justify-start items-center gap-[8px]"},ye={class:"flex flex-col gap-[8px] items-start"},be={class:"text-center"},ve={class:"text-center"},xe={class:"text-center"},Se={key:1,class:"px-[24px] py-[12px]"},Ie={class:"flex flex-col gap-[16px]"},Ce=L({__name:"RateTable",props:{isLoading:{type:Boolean,default:!1},isShowPhysicalGoodsCheckbox:{type:Boolean,default:!1},shippingInfo:{type:Array,default:()=>[]},modelValue:{type:Boolean},isShowSettingModalButton:{type:Boolean,default:!1}},emits:["update:modelValue","update-shipping-rates"],setup(e,{emit:n}){const i=e,f=n,u=M(!1),y=M(i.modelValue),D=M(i.isShowPhysicalGoodsCheckbox);T(()=>i.modelValue,g=>{y.value=g}),T(y,g=>{f("update:modelValue",g)});const r=v(()=>!i.isShowPhysicalGoodsCheckbox),w=v(()=>i.isShowPhysicalGoodsCheckbox),C=v(()=>!!(w.value&&i.isShowSettingModalButton)),U=v(()=>{if(r.value)return i.shippingInfo.length?{icon:"i-heroicons-pencil-square",text:"Edit",action:S}:{icon:"i-heroicons-plus-20-solid",text:"Add",action:S};if(w.value)return i.shippingInfo.length?{icon:"i-heroicons-eye-20-solid",text:"View Current Shipping Options",action:S}:{icon:"i-heroicons-plus-20-solid",text:"Add Shipping Options",action:O}}),N=v(()=>i.shippingInfo.length?i.shippingInfo.map((g,m)=>({index:m+1,name:g.name,price:g.priceInDecimal/100})):[]);function S(){u.value=!0}function O(){D.value=!1,u.value=!0}return(g,m)=>{const d=H,b=oe,p=ie,x=ne,B=Q,E=fe,P=q;return s(),_(P,{ui:{body:{padding:""}}},{header:a(()=>{var l,I,k;return[h("div",_e,[h("div",ge,[m[3]||(m[3]=h("h3",{class:"font-bold font-mono"}," Shipping Options / 寄送選項 ",-1)),te(g.$slots,"header")]),t(C)?R("",!0):(s(),_(d,{key:0,icon:(l=t(U))==null?void 0:l.icon,label:(I=t(U))==null?void 0:I.text,loading:e.isLoading,onClick:(k=t(U))==null?void 0:k.action},null,8,["icon","label","loading","onClick"]))])]}),default:a(()=>[t(r)?(s(),_(b,{key:0,columns:[{key:"index"},{key:"name",label:"Name"},{key:"price",label:"Price (USD)"}],rows:t(N)},{"name-data":a(({row:l})=>[h("div",ye,[h("span",be,"en: "+A(l.name.en),1),h("span",ve,"zh: "+A(l.name.zh),1)])]),"price-data":a(({row:l})=>[h("span",xe,A(l.price),1)]),_:1},8,["rows"])):(s(),$("div",Se,[c(B,{label:"Physical Goods",ui:{label:{base:"font-mono font-bold"}}},{default:a(()=>[h("div",Ie,[c(p,{modelValue:t(y),"onUpdate:modelValue":m[0]||(m[0]=l=>Z(y)?y.value=l:null),name:"hasShipping",label:"Includes physical good that requires shipping",disabled:!e.shippingInfo.length},null,8,["modelValue","disabled"]),e.shippingInfo.length?R("",!0):(s(),_(x,{key:0,icon:"i-heroicons-face-frown-solid",color:"yellow",variant:"solid",title:"Please enable this feature in the advanced settings."}))])]),_:1})])),t(u)?(s(),_(E,{key:2,modelValue:t(u),"onUpdate:modelValue":m[1]||(m[1]=l=>Z(u)?u.value=l:null),"read-only":t(D),"shipping-info":e.shippingInfo,onUpdateShippingRates:m[2]||(m[2]=l=>f("update-shipping-rates",l))},null,8,["modelValue","read-only","shipping-info"])):R("",!0)]),_:3})}}});export{Ce as _,F as v};
