{"version":3,"file":"fZ7j_FUX.js","sources":["../../../../stores/nft.ts"],"sourcesContent":["import { defineStore } from 'pinia'\n\nexport const useNftStore = defineStore('nft', () => {\n  const { LCD_URL, LIKE_CO_API } = useRuntimeConfig().public\n  const classMetadataByIdMap = ref({} as Record<string, any>)\n  const classListingInfoByIdMap = ref({} as Record<string, any>)\n\n  const getClassMetadataById = computed(() => (classId: string) => classMetadataByIdMap.value[classId])\n\n  const getClassListingInfoById = computed(() => (classId: string) => classListingInfoByIdMap.value[classId])\n\n  async function fetchClassMetadataById (classId: string) {\n    const data = await $fetch(`${LCD_URL}/cosmos/nft/v1beta1/classes/${classId}`)\n    const { class: classData } = data as any\n    classMetadataByIdMap.value[classId] = classData\n    return classData\n  }\n\n  function lazyFetchClassMetadataById (classId: string) {\n    if (getClassMetadataById.value(classId)) { return getClassMetadataById.value(classId) }\n    return fetchClassMetadataById(classId)\n  }\n\n  async function fetchClassListingInfoById (classId: string) {\n    const data = await $fetch(`${LIKE_CO_API}/likernft/book/store/${classId}`)\n    const listingInfo = data as any\n    classListingInfoByIdMap.value[classId] = listingInfo\n    return listingInfo\n  }\n\n  function lazyFetchClassListingInfoById (classId: string) {\n    if (classListingInfoByIdMap.value[classId]) { return classListingInfoByIdMap.value[classId] }\n    return fetchClassListingInfoById(classId)\n  }\n\n  return {\n    classMetadataByIdMap,\n    classStoreDataByIdMap: classListingInfoByIdMap,\n    getClassMetadataById,\n    getClassListingInfoById,\n    fetchClassMetadataById,\n    lazyFetchClassMetadataById,\n    fetchClassListingInfoById,\n    lazyFetchClassListingInfoById\n  }\n})\n"],"names":["useNftStore","defineStore","LCD_URL","LIKE_CO_API","useRuntimeConfig","classMetadataByIdMap","ref","classListingInfoByIdMap","getClassMetadataById","computed","classId","getClassListingInfoById","fetchClassMetadataById","data","classData","lazyFetchClassMetadataById","fetchClassListingInfoById","listingInfo","lazyFetchClassListingInfoById"],"mappings":"+WAEa,MAAAA,EAAcC,EAAY,MAAO,IAAM,CAClD,KAAM,CAAE,QAAAC,EAAS,YAAAC,GAAgBC,EAAmB,EAAA,OAC9CC,EAAuBC,EAAI,EAAyB,EACpDC,EAA0BD,EAAI,EAAyB,EAEvDE,EAAuBC,EAAS,IAAOC,GAAoBL,EAAqB,MAAMK,CAAO,CAAC,EAE9FC,EAA0BF,EAAS,IAAOC,GAAoBH,EAAwB,MAAMG,CAAO,CAAC,EAE1G,eAAeE,EAAwBF,EAAiB,CACtD,MAAMG,EAAO,MAAM,OAAO,GAAGX,CAAO,+BAA+BQ,CAAO,EAAE,EACtE,CAAE,MAAOI,CAAA,EAAcD,EACR,OAAAR,EAAA,MAAMK,CAAO,EAAII,EAC/BA,CAAA,CAGT,SAASC,EAA4BL,EAAiB,CAChD,OAAAF,EAAqB,MAAME,CAAO,EAAYF,EAAqB,MAAME,CAAO,EAC7EE,EAAuBF,CAAO,CAAA,CAGvC,eAAeM,EAA2BN,EAAiB,CAEzD,MAAMO,EADO,MAAM,OAAO,GAAGd,CAAW,wBAAwBO,CAAO,EAAE,EAEjD,OAAAH,EAAA,MAAMG,CAAO,EAAIO,EAClCA,CAAA,CAGT,SAASC,EAA+BR,EAAiB,CACnD,OAAAH,EAAwB,MAAMG,CAAO,EAAYH,EAAwB,MAAMG,CAAO,EACnFM,EAA0BN,CAAO,CAAA,CAGnC,MAAA,CACL,qBAAAL,EACA,sBAAuBE,EACvB,qBAAAC,EACA,wBAAAG,EACA,uBAAAC,EACA,2BAAAG,EACA,0BAAAC,EACA,8BAAAE,CACF,CACF,CAAC"}